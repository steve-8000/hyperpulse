# TRON 운영 리포트

- 생성 시각: 2026-02-22T01:50:54.600Z
- RSS: GreatVoyage-v4.8.0.1(Seneca)
- 비교 기준(Base): 72e31d9156408ed452a82ce602d816b8df6afc60
- 최신 커밋(Head): 25b35f514833c0a7024e42beeb2c03c539580138

## 한줄 요약
본 릴리즈는 트론 프로토콜 버전 4.8.0_1에서 ExchangeTransactionContract(거래소 계약)를 완전히 차단하는 기능을 도입한다. 4.8.0_1 버전에서는 BLOCK_VERSION이 33으로 상향되며, 이와 동반해 ExchangeTransactionContract를 검증 단계에서 거부하도록 로직이 삽입된다. 이 변경은 RPC/JSON‑RPC 호출에 직접적인 인터페이스 변동이 없으나, 트랜잭션 검증 흐름에 중대한 영향을 미친다. 특히, 과거버스(Archive) 노드와 신규 버전으로의 호환성 검증이 필수이다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 변경점 없음

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 블록 검증 시 rejectExchangeTransaction 로직이 적용되어야 함. 기존에 저장된 블록 중 Exchange 트랜잭션을 포함한 경우 재검증 시 오류 발생 가능.
- BLOCK_VERSION 33 으로 인한 포크 체크가 추가되므로, Archive 노드가 최신 버전으로 업데이트 되어야 함.

## 운영 액션 아이템
- 노드 소프트웨어를 최신 버전(4.8.0_1) 으로 업그레이드
- Archive 노드 재시작 및 인덱스 재구축(재인덱스) 수행
- 블록 검증 로직에 rejectExchangeTransaction 호출이 포함되었는지 확인
- 거버스(Archive) 노드에 저장된 블록이 ExchangeTransaction을 포함하고 있는지 점검 후 필요 시 재인덱스 수행

## 마이그레이션 체크리스트
- 코드베이스에 Parameter.BLOCK_VERSION 값이 33 으로 업데이트 되었는지 확인
- Manager 클래스에 rejectExchangeTransaction 메서드가 정상 동작하는지 테스트(단위테스트 포함)
- Archive 노드에 적용된 인덱스가 최신인지 재검증
- RPC 호출 시 ExchangeTransactionContract 가 거부되는지 테스트(예: /wallet/transaction/new)
- 블록 생성 시 rejectExchangeTransaction 호출이 포함되었는지 검증
- 버전 4.8.0_1 로의 포크 체크가 정상 동작하는지 확인

## 위험/주의 사항
- ExchangeTransactionContract가 완전 차단되므로, 기존에 Exchange 거래를 수행하던 노드(특히 마이그레이션 단계)에서 트랜잭션이 거부될 위험이 있다.
- BLOCK_VERSION 33 으로 인한 포크 체크가 추가되며, 이 버전이 적용되지 않은 노드에서는 블록 검증 실패(BadBlockException) 가 발생할 수 있다.
- 거버스 노드가 과거버스(Archive) 저장소에 이미 존재하는 블록이 ExchangeTransaction을 포함하고 있을 경우, 재검증 시 오류가 발생할 수 있다.

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- RPC/JSON‑RPC: 현재 API 명세는 변동 없음. 단, /wallet/transaction/new 에서 ExchangeTransactionContract 를 보내면 400(거부) 응답이 반환된다.
- Archive 노드: 블록 검증 시 rejectExchangeTransaction 로직을 적용해야 하며, 기존에 저장된 블록이 Exchange 트랜잭션을 포함하고 있다면 재검증 시 BadBlockException 발생 가능. 따라서 Archive 노드 재시작/재인덱스가 필요.
- 버전 4.8.0_1 이 적용된 노드와 아직 4.7.x 를 실행 중인 노드는 서로 다른 BLOCK_VERSION 으로 인한 블록 충돌이 발생할 수 있다. 즉, 4.8.0_1 로 업그레이드 필요.

## 원문 커밋 내용
### Commit Log
```text
25b35f514 update a new version. version name:GreatVoyage-v4.8.0-1-g45e3bf88ca,version code:18634 (#6508)
45e3bf88c feat(*): disable exchange transaction (#6507)
```

