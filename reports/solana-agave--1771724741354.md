# Solana(Agave) 운영 리포트

- 생성 시각: 2026-02-22T01:45:41.354Z
- RSS: Release v3.1.8
- 비교 기준(Base): 9873bc41245ce90635c62a9aaeebb0c6ce8f22a8
- 최신 커밋(Head): 2717084afeeb7baad4342468c27f528ef617a3cf

## 한줄 요약
Solana Agave v3.1.8 릴리즈는 주로 버전 관리와 내부 의존성 업데이트, 그리고 두 가지 핵심 기능 개선(VersionedTransaction preallocation limit 증가 및 ledger tool에서 snapshot 생성 활성화)을 포함한다. 주요 코드 변경은 entry, ledger‑tool, snapshot_config 등에서 이루어졌으며, 외부 API에는 직접적인 변경이 없으나 내부 구조가 조정되었다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 노드가 처리할 수 있는 트랜잭션 크기 조정. 기존 1MB에서 2MB(예시)로 확장될 수 있음
- 스냅샷 생성 시점이 변경되어 스냅샷 파일 크기와 빈도에 영향
- 내부 의존성 버전 차이동으로 인한 잠재적 호환성 이슈

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 해당 사항 없음

## 운영 액션 아이템
- 노드 재시작 시 preallocation limit 값이 변경되었으므로, 메모리 설정(예: `--max-transaction-size`) 검토
- snapshot 생성 주기 조정(예: `--snapshot-interval` 파라미터) 검토
- ledger-tool 실행 시 snapshot 옵션 활성화 여부 확인
- 노드 로그에 `snapshot_generation_enabled` 플래그가 있는지 점검

## 마이그레이션 체크리스트
- 코드베이스에서 `entry/src/entry.rs`와 `wincode.rs`의 변경 사항을 테스트 환경에 적용해 보며 버그가 없는지 확인
- snapshot_config.rs의 변경 사항을 검토하고 스냅샷 파일 크기 변동 여부를 모니터링
- 다수 Cargo.toml/lock 파일의 버전 차이동에 따라 의존성 충돌 여부를 테스트
- RPC/JSON‑API는 변동이 없으나, 내부 버전 차이동으로 인한 잠재적 호환성 이슈를 검토
- archive node에 대한 스냅샷 생성 로직이 변경되었으므로, archive node의 스냅샷 저장소 용량을 재평가

## 위험/주의 사항
- VersionedTransaction preallocation limit 증가로 인해 메모리 사용량이 늘어, 노드가 처리할 수 있는 트랜잭션 크기가 변동될 가능성
- snapshot 생성 로직이 활성화되면서 snapshot 파일 크기와 생성 빈도가 증가해 스토리지 비용 상승 위험
- 다수의 Cargo.toml/lock 업데이트가 의존성 충돌 가능성을 내포함(특히 solana-fee, solana-curve25519 등 버전 차이동)

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- 내부 의존성 업데이트가 많아지면서 빌드 시 충돌 가능성 존재. 특히 solana-fee, solana-curve25519 등 핵심 모듈의 버전 차이동은 테스트 환경에서 재검증 필요
- snapshot 생성 로직 변경으로 인한 스냅샷 파일 크기 변동이 archive node에 미치는지 확인 필요
- preallocation limit 변경은 메모리 프로파일링이 필요함

## 원문 커밋 내용
### Commit Log
```text
2717084afe v3.1: Raise Entry's VersionedTransaction preallocation limit (backport of #10179) (#10182)
ec3d409544 v3.1: Enabling snapshot generation when loading from ledger tool (backport of #10064) (#10123)
357c76b060 Bump version to v3.1.8 (#10107)
```

