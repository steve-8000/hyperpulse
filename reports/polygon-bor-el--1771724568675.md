# Polygon(Bor-EL) 운영 리포트

- 생성 시각: 2026-02-22T01:42:48.675Z
- RSS: v2.6.1-beta
- 비교 기준(Base): 6b0405c0a5ca25791201fd6c978bf4e66c87d505
- 최신 커밋(Head): aaaf85be5f51423819df3e6711a22a065af3f967

## 한줄 요약
Polygon Bor v2.6.1‑beta는 주로 **개인(Private Transaction) 지원**과 **Preconf** 기능을 추가하고, 기존 코드베이스를 Go 1.26에 맞추며 여러 테스트와 문서 업데이트를 포함합니다. 주요 변경 사항은 다음과 같습니다.

1. **Private Transaction & Preconf** – `eth/relay` 패키지에 새 파일이 추가되고, `builder/files/config.toml` 에서 `enable-preconfs`, `enable-private-tx`, `bp-rpc-endpoints` 옵션이 추가되었습니다. 이는 노드가 사전 설정(preconf)과 비공개 트랜잭션을 처리할 수 있도록 합니다.
2. **Docker & Build Tool** – `Dockerfile`, `Dockerfile.alltools` 가 Go 1.26‑alpine 이미지로 변경되었습니다.
3. **API 테스트 및 문서** – `consensus/bor/api_test.go`, `eth/relay/*` 등에서 테스트가 추가되었으며, `docs/cli/example_config.toml` 에서 새 옵션이 반영되었습니다.
4. **성능 개선** – `core/state/trie_prefetcher.go` 에서 lock contention 감소, `triedb/pathdb/biased_fastcache.go` 의 캐시 로직이 개선되었습니다.

전체적으로 기존 기능은 유지되나, 새 옵션과 private‑tx 지원이 추가되어 노드 설정에 변화를 요구합니다.

## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- * `enable-preconfs`, `enable-private-tx` 옵션 추가 (builder/files/config.toml)
- * Dockerfile 및 빌드 스크립트가 Go 1.26‑alpine 이미지 사용으로 변경
- * `eth/relay` 패키지에 private tx 및 preconf 관련 코드 추가
- * 테스트 커버리지 확대(예: `triedb/pathdb/biased_fastcache_test.go` 등)
- * `core/state/trie_prefetcher.go` 에서 lock contention 감소 로직 변경

## RPC/API 영향
- * `eth/relay` 에서 private transaction 관련 RPC 엔드포인트가 추가되었습니다. * `enable-private-tx` 옵션이 활성화되면, `/txpool/privatetx` 같은 엔드포인트가 동작합니다. * 사전 설정(preconf) 관련 RPC 엔드포인트는 아직 공개되지 않았으나, 테스트 코드에선 `preconf` 를 지원하도록 설계되었습니다.

## 아카이브 노드 영향
- * 트리 캐시 로직이 변경되었으나, 아카이브 노드에 직접적인 영향은 없습니다. * `trie_prefetcher.go` 의 lock contention 감소는 메모리 사용량을 약간 증가시킬 수 있으나, 아카이브 노드가 재동기화 시 큰 이슈는 없습니다.

## 운영 액션 아이템
- * `builder/files/config.toml` 에서 `enable-preconfs`, `enable-private-tx`, `accept-preconf-tx`, `accept-private-tx` 옵션을 검토하고 필요 시 활성화합니다. * Docker 이미지가 Go 1.26‑alpine 으로 바뀐 점을 반영해 빌드 스크립트(`Dockerfile`, `Dockerfile.alltools`) 를 업데이트합니다. * 새 옵션이 활성화되면, 노드가 private transaction 을 수신/전파할 수 있도록 `accept-private-tx` 옵션을 켭니다. * 사전 설정(preconf) 기능이 필요하다면 `enable-preconfs` 옵션을 켭니다. * 테스트를 통해 성능 변동이 있는지 모니터링합니다.

## 마이그레이션 체크리스트
- * Go 1.26 버전으로 빌드 환경을 업데이트합니다. * `builder/files/config.toml` 에서 새 옵션들을 검토하고 필요 시 활성화합니다. * Docker 이미지가 변경되었으니, CI 파이프라인에 반영합니다. * private transaction 기능을 사용하려면 `accept-private-tx` 옵션이 활성화되어야 합니다. * preconf 기능을 사용하려면 `enable-preconfs` 옵션이 활성화되어야 합니다. * 테스트를 통해 새 기능이 정상 동작하는지 확인합니다.

## 위험/주의 사항
- 위험 요소 없음

## 근거(Evidence)
- "aaaf85be5 params: bump version to v2.6.1-beta"
- "785447620 core/stateless: fix witness RLP backward compat with WIT/0 peers (#2068) (#2072)"
- "f50589e4c (feat): preconf + private tx relay (#2005)"
- "M builder/files/config.toml" "# [relay] enable-preconfs = true ..."
- "M eth/relay/multiclient.go" "... 347 +++"
- "M eth/relay/private_tx_store.go" "... 152 +++"
- "M consensus/bor/api_test.go" "... 460 +++"

## 운영 메모
- 추가 메모 없음

## 원문 커밋 내용
### Commit Log
```text
aaaf85be5 params: bump version to v2.6.1-beta
785447620 core/stateless: fix witness RLP backward compat with WIT/0 peers (#2068) (#2072)
865a47490 disabling provenance/SBOM for those per-arch docker build (#2071)
84fd067c3 (chore): bump go version to 1.26 (#2067)
6c0da3c3a backport: master to develop (#2066)
07a910ce0 fix: tests
c1c25f757 Merge remote-tracking branch 'origin/master' into merge-master-to-develop
f50589e4c (feat): preconf + private tx relay (#2004)
62eaa27e0 Merge pull request #2048 from 0xPolygon/remove-empty-space
65f150739 fix: configure Docker daemon min API version for Pumba compatibility (#2052)
6abc9cba7 core/state: reduce lock contention in triePrefetcher.used() (#2049)
6f40e514f Prefetch Transactions from Pool & PIP-66 Back (#2031)
94da0a6aa feat: add network diagnostics and state dump action (#2051)
9e62973b6 Fixed formatting on other files
45ef3322d Another Small fix
fc72bb7cf Small fix
4511ff182 Few space fix
a2c6dfc0b Fix formatting in static-nodes configuration
0852648ac Fix formatting of static-nodes in config.toml
96df64484 consensus/bor: add test coverage (#2046)
9c8690923 bump go version (#2045)
b14ecfac3 added rate limiting to address biased trie cache preloading (#2029)
f5ee550d2 Fix more race conditions detected by -race (#2042)
0cca60403 refactor: ci (#2044)
```

