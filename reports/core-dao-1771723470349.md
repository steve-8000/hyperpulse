# Core DAO 운영 리포트

- 생성 시각: 2026-02-22T01:24:30.349Z
- RSS: v1.0.21
- 비교 기준(Base): 85323fe4b8cda56c0d8c7d71cae630726dbfe881
- 최신 커밋(Head): c825d5aef1bfe0cdbb5e2d6e2ccecd134dced95b

## 한줄 요약
v1.0.21 릴리즈는 주로 헬멜스(hermes) 시스템 컨트랙트와 업그레이드 로직에 대한 소규한 수정이 포함됩니다. 핵심 변경은 BTCStakeContract, CandidateHubContract, ValidatorContract의 내부 로직이 조정되었으며, upgrade.go와 config·version 파일에 대한 버전 정보가 업데이트되었습니다. 이 릴리즈는 기존 노드 운영에 큰 변화를 요구하지 않으나, 업그레이드 시점검이 필요합니다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 함수가 2개 라인에서 변경되었으며, 새 이벤트 시그니처가 추가되었습니다.
- upgrade.go 에서 34라인이 삽입/삭제되었으며, 버전 체크 로직이 강화되었습니다.

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 컨트랙트 로직 변경으로 인한 블록체인 상태 변동이 없으므로, 아카이브 노드에 대한 추가적인 스토리지 요구사항은 없습니다.
- 컨트랙트 내부 로직이 바뀌되었으나, 색인 정책은 변동되지 않음.

## 운영 액션 아이템
- 업그레이드 전 현재 노드의 백업(스냅샷) 확보
- 컨트랙트 로직 변경에 대한 테스트넷에서 검증 후 메인넷 적용
- 업그레이드 스크립트 실행 시 로그 모니터링 및 에러 로깅 활성화
- 업그레이드 후 컨트랙트 상태(스테이크, 후보자 등) 검증

## 마이그레이션 체크리스트
- 컨트랙트 소스코드( BTCStakeContract, CandidateHubContract, ValidatorContract ) 변동 사항을 로컬 테스트넷에 배포해 보며 동작 검증
- upgrade.go 의 버전 체크 로직이 정상 동작하는지 확인( upgrade.go 34라인 변경 사항 검증)
- 노드의 config·version 파일에 대한 버전 정보가 정상 반영되는지 확인
- 백업(스냅샷) 및 롤백 포인트 확보 후 업그레이드 실행
- 업그레이드 후 RPC/JSON‑RPC 엔드포인트가 정상 동작하는지 테스트

## 위험/주의 사항
- 노드가 현재 상태를 읽어 재구성할 때, 새 컨트랙트 로직이 적용되지 않으면 불일치가 발생할 수 있음
- 노드가 자동 업그레이드를 수행할 때, 이전 버전과 호환되지 않는 데이터 포맷이 존재하면 노드가 다운될 수 있음

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- 컨트랙트 로직이 변경되었으나, 외부 API( RPC / JSON‑RPC ) 에 대한 직접적인 변동은 없으므로, 현재 노드가 제공하는 RPC 엔드포인트는 그대로 유지됩니다.
- 컨트랙트 내부 로직이 바뀌되었으나, 컨트랙트가 배포된 블록체인에 대한 상태 변동이 발생할 수 있으므로, 업그레이드 시 충분한 테스트가 필요합니다.
- 업그레이드 스크립트에 대한 변경이 포함되었으나, 현재 노드가 자동 업그레이드를 수행할 때는 별도 추가적인 RPC 호출이 필요하지 않습니다.

## 원문 커밋 내용
### Commit Log
```text
c825d5ae Merge pull request #88 from coredao-org/branch_v1.0.21
285a4347 upgrade: configure hermes upgrade on testnet2
```

