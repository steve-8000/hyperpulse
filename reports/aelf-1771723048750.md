# Aelf 운영 리포트

- 생성 시각: 2026-02-22T01:17:28.750Z
- RSS: AELF V1.12.0
- 비교 기준(Base): 4deeae5fc9238c66afce235a8bd36e63ff3dd9b2
- 최신 커밋(Head): 1c65ebdc94b7143e74e5f18493193deb4f51b388

## 한줄 요약
Aelf 1.12.0 릴리즈는 트랜잭션 결과 처리 로직과 토큰 컨트랙트에 대한 신규 기능이 추가된 버전이다. 주요 변경사항은 트랜잭션 결과 상태에 ‘EXPIRED’ 를 추가하고, 토큰 컨트랙트에서 시드(Seed) 만료시간을 연장할 수 있는 RPC 메서드를 제공한다는 점이다. 이로 인해 노드 운영자는 트랜잭션 결과를 모니터링하고, 시드 만료 이벤트를 처리할 수 있는 로직을 추가해야 한다.

## 운영자 중요 체크
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 1. protobuf/core.proto 에 TransactionResultStatus 에 EXPIRED 추가
- 2. protobuf/token_contract_impl.proto 에 ExtendSeedExpirationTime RPC 및 이벤트 정의 추가
- 3. TransactionResultDto 와 Service 가 StatusV2 로 교체 및 EXPIRED 처리 로직 추가
- 4. Inline transaction 실행 제한(최대 15000) 도입

## RPC/API 영향
- {"name":"ExtendSeedExpirationTime","input_type":"ExtendSeedExpirationTimeInput","output_type":"google.protobuf.Empty"}
- {"name":"GetTransactionResultV2Async","description":"새로운 트랜잭션 결과 구조를 반환"}
- {"name":"GetTransactionResultAsync","description":"EXPIRED 상태 지원"}

## 아카이브 노드 영향
- 1. 트랜잭션 결과를 저장하는 인덱스에 EXPIRED 상태가 추가되므로, 아카이브 노드에서 트랜잭션 결과를 인덱싱할 때 새로운 필드를 저장해야 함. 2. 시드 만료 이벤트(SeedExpirationTimeUpdated)가 발생하면, 아카이브 노드는 해당 이벤트를 기록하고 저장소에 반영해야 함. 3. Inline transaction 실행 제한이 도입되었으나, 아카이브 노드가 과거 트랜잭션을 재생성할 때는 이 제한이 적용되므로, 과거 트랜잭션을 재생성 시 주의미

## 운영 액션 아이템
- 1. 노드 소스코드를 최신 버전으로 빌드하고, protobuf 정의를 업데이트하여 RPC 스키마를 재생성한다. 2. 트랜잭션 결과 파싱 로직을 EXPIRED 상태를 인식하도록 수정한다. 3. 시드 만료 이벤트를 수신하고 저장소에 반영하도록 로직을 추가한다. 4. Inline transaction 실행 제한(최대 15000) 이 적용되었으나, 성능 모니터링을 위해 CPU/메모리 사용량 체크를 추가한다.

## 마이그레이션 체크리스트
- 1. protobuf/core.proto 에서 TransactionResultStatus에 EXPIRED 가 추가되었는지 확인한다. 2. RPC 스키마(ExtendSeedExpirationTime) 가 정상 동작하는지 테스트한다. 3. 시드 만료 이벤트(SeedExpirationTimeUpdated) 가 정상 발행되는지 검증한다. 4. 트랜잭션 결과 파싱 로직이 StatusV2/EXPIRED 를 인식하도록 업데이트한다. 5. Inline transaction 실행 제한이 적용되었는지 성능 테스트를 진행한다.

## 위험/주의 사항
- 위험 요소 없음

## 근거(Evidence)
- "commit 1c65ebdc9: Merge pull request #3630 from AElfProject/release/1.12.2"
- "commit 4d02f2733: Adjust implementation of ZK function"
- "commit 5dd5ac88c: Rename method name"
- "diff --git a/protobuf/aelf/core.proto ... enum TransactionResultStatus { ... EXPIRED = 7; }"
- "diff --git a/protobuf/token_contract_impl.proto ... rpc ExtendSeedExpirationTime (ExtendSeedExpirationTimeInput) returns (google.protobuf.Empty);"
- "diff --git a/contract/AElf.Contracts.MultiToken/TokenContract_Actions.cs ... public override Empty ExtendSeedExpirationTime(ExtendSeedExpirationTimeInput input) { ... }"
- "diff --git a/contract/AElf.Contracts.MultiToken/TokenContract_Actions.cs ... event SeedExpirationTimeUpdated { ... }"
- "commit 1b7c98753: transaction result status optimization, clear return the expired description"

## 운영 메모
- 추가 메모 없음

## 원문 커밋 내용
### Commit Log
```text
1c65ebdc9 Merge pull request #3630 from AElfProject/release/1.12.2
3688493da Remove poseidong
03ede965e Remove inline_transaction.proto
453d96b28 Merge remote-tracking branch 'origin/release/1.12.2' into release/1.12.2
99e57c9ff Change method name to TransactionResultWithBVP
b4804c657 Merge branch 'master' into release/1.12.2
7b1eb9b76 Add unit test
a2e357980 remove unused code
ee4801fb6 adjust version of Nethereum.Web3
3383c90b6 remove priveteAssets
c75210482 Adjust zk code
a2ef9a659 Add WhitelistCryptographyHelpers whitelist method
c1247616c Adjust to static method
230fcebc7 Adjust impletation of zk function
4d02f2733 Adjust implementation of ZK function
ff58f36cc Adjust the implementation of zk function
586a98aa5 Remove cross-aa code
b8fb0d8ae Remove unused code
692c6b2a3 1. Remove log and resolve issue
c522ab928 Add log
3222d1cba Add log
745b32666 add TriggerConsensusEventAsync
6bf28b9d2 remove TriggerConsensusEventAsync
a58407951 Add TriggerConsensusEventAsync for image
334079102 Remove TriggerConsensusEventAsync
77ed70a6a try to skip issue that node can not produce
6008ea59d Revert code
71c5095fd Merge pull request #3614 from AElfProject/feature/whitelist-to-sdk
94abd2a84 Merge branch 'dev' into feature/whitelist-to-sdk
29143a241 token contract add inline transaction modification
187a4c5d3 Merge branch 'dev' into feature/whitelist-to-sdk
d38683fde Remove publish config in main and side project
187d3ed79 Merge pull request #3628 from AElfProject/feature/transaction-result-status-modify
2a62de270 update StatusV2 to StatusWithBVP
a74faf0a6 Remove inline transaction modification because of the early publishment of Extend seed expiration time
dc42b7404 Merge pull request #3627 from AElfProject/feature/transaction-result-optimize
c4a291ca9 TransactionResult optimization, add a new method GetTransactionResultV2Async
4926267a3 Merge pull request #3626 from AElfProject/dev
9d567e47d Merge pull request #3624 from AElfProject/feature/extend-seed-expiration-time
f21fc2d35 Merge pull request #3625 from AElfProject/feature/transaction-result-optimize
d594e53b1 Merge branch 'dev' into feature/whitelist-to-sdk
39398fab8 Will return new status if pending txs already expired.
67ea4aa69 Tune Get_TransactionResultV2_Expired_Testf and fixed tx.statusv2 issues.
85e9efd32 Merge pull request #3620 from AElfProject/feature/inline-tx-id
2e1522e29 unit test done
cec89b7af unit test done
c84faaae4 Remove unused unit test
b498ff540 Add unit test
b3a138c9b Add unit-test for cross-aa
f16179dad Merge branch 'dev' into feature/inline-tx-id
0f4b2c44c The Status is obsolete in this version. Use StatusV2 instead
d1658fd16 The Status is obsolete. Use StatusV2 instead
e617a6958 The Status is obsolete. Use StatusV2 instead
6ea81f8fb Merge pull request #3621 from AElfProject/feature/transaction-result-optimization
d1a71ef27 CallCount revert to 15000
1404c3ecf Add new event: SeedExpirationTimeUpdated
af79e90b6 Fix tx expired error message.
c53dbf790 handle the Sonar build problem
1b7c212e5 handle the Sonar build problem
60cb378b0 If transaction satus is "NOT_EXIST", and the lag of the refblock is bigger that 512, this transaction will never bee succeed in the future
de45a0ff6 set a the Error message to the output to infer that the transaction will never succeed.
52efae931 set a the Error message to the output to infer that the transaction will never succeed
18763eeb3  Modify config in azure-pipelines.yml
c045573a9 set a the Error message to the output to infer that the transaction will never succeed
69ec7e806  Modify config in azure-pipelines.yml
30672323d Modify config in azure-pipelines.yml
8299f355b Temporarily remove the unit test; it will be added back later
d4162759d Temporarily remove the unit test; it will be added back later
60b637d9a Update the sdk version
c87694487 Clean up unused code and optimize the code
6d433e59e Add unit-test for zk supporting
5dd5ac88c Rename method name
9df0b200a Resolve the difficulty of creating inline transactions by eventlog during receiving
e1ccdb9b8 Resolve Verification Failure Issue
8c4234ab8 Resolve unit test issue
1ad4d469e support zk
daaec051d optimize the result of transaction result
8ec60e333 Fixed GetTransactionResultAsync: compare BestChainHeight with RefBlockNumber
1e7c98753 transaction result status optimization, clear return the expired description
54fb07d8b extend SEED expiration time
8626f56e6 extend seed expiration time
0b3ab8769 Cancel inline event log
1ac04354c 1. Remove useless comments 2. Add an execution limit for inline transactions 3. Improve compatibility in inline method validation.
8291fb1aa Fix block sync issue.
be03fce6b Put inline txs to block body.
46e54c54a Improve layered method name.
534f24b09 Now some of inline txs will have their own tx id via layered method name.
aa43d7b0c Add config for auto-publishing
4e5b3aada Remove poseidon and groth16 in IWhitelistProvider.cs
8262cd93d Merge remote-tracking branch 'origin/feature/whitelist-to-sdk' into feature/whitelist-to-sdk
0c5cf130d Change versions and add whitelist
8838901f9 Merge branch 'dev' into feature/whitelist-to-sdk
7c9c674d5 Merge branch 'dev' into feature/whitelist-to-sdk
77e2d11f4 Add sources
00d0b6e2c Change version of sdk
6469d74f5 Change version of sdk
b66e60c16 Change version to 8.0.402 in sonarqube.yaml
a57f39eaf feat(zkp): Add methods required for supporting zkp verification over Bn254
53f389cec Revert appsettings.json
47595fc0d Resolve issue of compilation and running, and add unit-test
955096cb0 Add whitelist solution
```

