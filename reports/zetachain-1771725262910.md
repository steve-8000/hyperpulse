# ZetaChain 운영 리포트

- 생성 시각: 2026-02-22T01:54:22.910Z
- RSS: v37.0.2
- 비교 기준(Base): 5de2f6fb268761e30aff0d4da90ebc901c728661
- 최신 커밋(Head): c6427695c17ce790a9f44d4483494fe66a70abcc

## 한줄 요약
{"overview":"ZetaChain v37.0.2 릴리즈는 주로 내부 인프라·테스트 자동화, 설정 파일 정리와 함께 API/JSON‑RPC에 대한 미세한 변화를 포함한다. 주요 변경 사항은 설정값 조정, 메시지 구조 정리, 신규 기능(다중 EVM 호출, Sui/TON 지원) 및 일부 메시지 삭제이다. 이 릴리즈는 운영자가 노드 설정·모니터링·백업에 주의를 기울어야 할 변화를 포함한다.","critical_risks":"1. **Consensus timeout 조정** – `timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta` 가 500 ms → 200 ms 로 변경되어, 노드가 더 빠른 타임아웃을 적용하도록 요구한다. 2. **메시지 구조 변경** – `MsgUpdateERC20CustodyPauseStatus`, `MsgMigrateERC20CustodyFunds` 가 삭제되면서, 기존에 의존한 API 호출이 실패할 수 있다. 3. **백업/아카이브 노드** – `wal_file` 경로가 변경되었으며, `namespace` 값이 `tendermint → cometbft` 로 바뀜. 4. **새로운 Sui/TON 지원** – 새로 추가된 네트워크에 대한 RPC 엔드포인트가 필요해, 기존 클라이언트에서 `Sui`/`TON` 전용 파라미터를 지원하도록 업데이트 해야 함.","notable_changes":["* `timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta` 를 500 ms → 200 ms 로 조정 (config.toml)","* `MsgUpdateERC20CustodyPauseStatus`, `MsgMigrateERC20CustodyFunds` 메시지 삭제 (refactor: remove support for v1 revert address for BTC)","* `index` 필드가 ballot 에서 제거 (refactor: remove index field in ballot)","* `Sui` 메시지 컨텍스트 ID 동적 필드 추가 (feat: Sui message context ID as dynamic field)","* `withdraw` 지원이 v2 컨트랙트로 확장 (feat: add support for withdraw using v2 connector contract)","* `NoAssetCall` 이 비트코인에서 허용되는지 여부를 조정 (feat: enable NoAssetCall from Bitcoin)","* `multiple evm calls in single tx` 기능 추가 (feat: multiple evm calls in single tx)"],"review_notes":"1. **설정 변경** – `config.toml` 에서 timeout 값이 바뀜. 2. **API/JSON‑RPC** – `MsgUpdateERC20CustodyPauseStatus`, `MsgMigrateERC20CustodyFunds` 가 사라서 해당 엔드포인트가 더 이상 호출 불가. 3. **백업/아카이브** – `wal_file` 경로가 변경되었고, `namespace` 값이 `tendermint → cometbft`. 4. **테스트** – 새로 추가된 `Sui`, `TON` 네트워크에 대한 테스트가 포함. 5. **TSS** – `replace_observer` 과 `tss_migration` 테스트가 새로 추가. 6. **리포트** – `puch-release-zetaclient` 워크플로우가 새로 추가되어, 클라이언트 릴리즈를 별도 관리. 7. **컨테이너** – `Dockerfile-localnet` 이 변경되었으며, 로컬 테스트용 이미지가 새로 추가. 8. **문서** – `docs/zetacore/gas_and_fees.md` 등 문서가 추가. 9. **테스트** – `e2e` 테스트에 대한 설정이 업데이트되었음." ,"verdict":"운영자는 현재 릴리즈를 **안전히 적용** 할 수 있다. 주요 변경은 설정값 조정과 메시지 구조 정리이며, API/JSON‑RPC에 대한 직접적 변경은 적다. 다만, 신규 기능과 메시지 삭제는 기존 클라이언트가 재설정 필요." ,"rpc_api_changes":["* `MsgUpdateERC20CustodyPauseStatus` 및 `MsgMigrateERC20CustodyFunds` 메시지 삭제로 인한 RPC 엔드포인트(예: `/custody/stop`) 가 더 이상 호출 불가","* `MsgUpdateERC20CustodyPauseStatus` 와 관련된 JSON 스키마가 사라서 클라이언트에서 `custody_status` 필드 사용을 중단"],"archive_node_impact":["* WAL 파일 경로가 `data/cs.wal/wal` 으로 변경되었음. 1. 아카이브 노드가 `wal_file` 경로를 새로 인식하도록 설정 필요","* `namespace` 값이 `tendermint → cometbft` 로 바뀜. 2. 타임아웃 값이 조정되었으므로, 노드 재시작 시 `config.toml` 에서 timeout 값이 200 ms 로 설정돼야 함"],"operator_actions":["* `config.toml` 에서 timeout 값(프로포즈, 프리뷰, 프리커밋) 를 200 ms 로 재설정","* `wal_file` 경로를 확인하고 필요 시 수정","* 신규 메시지 삭제에 따라 RPC 엔드포인트가 더 이상 호출 불가하도록 모니터링","* `Sui`/`TON` 네트워크 지원을 위해 클라이언트 설정 업데이트","* TSS 관련 테스트를 실행해 `replace_observer` 과 `tss_migration` 이 정상 동작하는지 확인"],"migration_checklist":["* 설정 파일(`config.toml`, `app.toml`) 에 timeout 값이 200 ms 로 조정되었는지 확인","* `wal_file` 경로가 올바른지 검증","* 신규 메시지 삭제에 따라 RPC 엔드포인트를 재검토(예: `/custody/stop`)",* `Sui`, `TON` 네트워크 지원이 정상 동작하는지 테스트","* TSS/replace_observer 기능을 배포 전 검증"],"evidence":["commit 5de2f6fb: `timeout_propose_delta` → `200ms` (config.toml)","commit 5de2f6fb: `timeout_prevote_delta` → `200ms` (config.toml)","commit 5de2f6fb: `timeout_precommit_delta` → `200ms` (config.toml)","commit 5de2f6fb: `namespace = \"cometbft\"` (config.toml)","commit 5de2f6fb: `wal_file = \"data/cs.wal/wal\"` (config.toml)","commit 5de2f6fb: `MsgUpdateERC20CustodyPauseStatus` 삭제 (refactor)","commit 5de2f6fb: `MsgMigrateERC20CustodyFunds` 삭제 (refactor)","commit 5de2f6fb: `index` 필드 제거(밴트) (refactor)","commit 5de2f6fb: `Sui` 메시지 컨텍스트 ID 동적 필드 추가 (feat)","commit 5de2f6fb: `withdraw` 지원이 v2 컨트랙트로 확장 (feat)","commit 5de2f6fb: `multiple evm calls in single tx` 기능 추가 (feat)"]}

## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 모델 원문에서 구조화 가능한 변경점을 찾지 못했습니다.

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 해당 사항 없음

## 운영 액션 아이템
- 해당 릴리즈를 대상으로 수동 검토 후 재실행하세요.

## 마이그레이션 체크리스트
- staging 환경 검증 후 운영 반영

## 위험/주의 사항
- LLM 원문 기준 수동 검토가 필요합니다.

## 근거(Evidence)
- 원문 커밋 섹션(Commit Log)을 근거로 확인

## 운영 메모
- {"overview":"ZetaChain v37.0.2 릴리즈는 주로 내부 인프라·테스트 자동화, 설정 파일 정리와 함께 API/JSON‑RPC에 대한 미세한 변화를 포함한다. 주요 변경 사항은 설정값 조정, 메시지 구조 정리, 신규 기능(다중 EVM 호출, Sui/TON 지원) 및 일부 메시지 삭제이다. 이 릴리즈는 운영자가 노드 설정·모니터링·백업에 주의를 기울어야 할 변화를 포함한다.","critical_risks":"1. **Consensus timeout 조정** – `timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta` 가 500 ms → 200 ms 로 변경되어, 노드가 더 빠른 타임아웃을 적용하도록 요구한다. 2. **메시지 구조 변경** – `MsgUpdateERC20CustodyPauseStatus`, `MsgMigrateERC20CustodyFunds` 가 삭제되면서, 기존에 의존한 API 호출이 실패할 수 있다. 3. **백업/아카이브 노드** – `wal_file` 경로가 변경되었으며, `namespace` 값이 `tendermint → cometbft` 로 바뀜. 4. **새로운 Sui/TON 지원** – 새로 추가된 네트워크에 대한 RPC 엔드포인트가 필요해, 기존 클라이언트에서 `Sui`/`TON` 전용 파라미터를 지원하도록 업데이트 해야 함.","notable_changes":["* `timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta` 를 500 ms → 200 ms 로 조정 (config.toml)","* `MsgUpdateERC20CustodyPauseStatus`, `MsgMigrateERC20CustodyFunds` 메시지 삭제 (refactor: remove support for v1 revert address for BTC)","* `index` 필드가 ballot 에서 제거 (refactor: remove index field in ballot)","* `Sui` 메시지 컨텍스트 ID 동적 필드 추가 (feat: Sui message context ID as dynamic field)","* `withdraw` 지원이 v2 컨트랙트로 확장 (feat: add support for withdraw using v2 connector contract)","* `NoAssetCall` 이 비트코인에서 허용되는지 여부를 조정 (feat: enable NoAssetCall from Bitcoin)","* `multiple evm calls in single tx` 기능 추가 (feat: multiple evm calls in single tx)"],"review_notes":"1. **설정 변경** – `config.toml` 에서 timeout 값이 바뀜. 2. **API/JSON‑RPC** – `MsgUpdateERC20CustodyPause

## 원문 커밋 내용
### Commit Log
```text
c6427695 chore: update cometbft to v0.38.21 for v37 (#4536)
aaf6bc94 fix: ignore error if chain params are missing (#4531)
78e1a918 chore: release reforge  (#4518)
8df6b336 fix(`zetatool`): add missing networks (#4424)
2b84f947 test: add zetaclient only upgrade tests (#4310)
a4d4fac9 feat: refund a portion of remaining unused tokens to user (#3734)
9ea65f6f revert: force rescan if inbound vote monitoring fails (#4250)
c6e00088 fix(e2e): check test contracts deployment (#4251)
ffdf12b7 revert: add timeout to monitoring routine" (#4244)
dda8e9e1 chore: fix function name in comment (#4238)
fde0b615 feat: multiple evm calls in single tx (#4157)
38bcdd06 feat: enable NoAssetCall from Bitcoin (#4218)
72bf04f0 refactor: prepare the client interfaces used by the observer-signers for dry-mode (#4213)
0da0a381 refactor(`observer`): remove deprecated code (#4192)
98997434 fix: skip writing config file to the filesystem  (#4210)
5a43f88e chore: resync changelogs with v36 changes (#4223)
a4eca891 fix: set zeta ante to true in upgrade tests  (#4225)
e789c7d6 fix: re-check for finalized ballot when executing inbound vote to create cctx (#4197)
19857e40 feat: provide error information in CCTX struct when Bitcoin deposit fail (#4211)
44bef07b refactor: rename whitelistERC20 into whitelistAsset (#4203)
873011f5 refactor: remove `MsgUpdateERC20CustodyPauseStatus` and `MsgMigrateERC20CustodyFunds` (#4199)
00674cb8 refactor: remove index field in ballot (#4205)
dc352511 fix: remove ZetaChain chain ID from GasStabilityPoolBalances query (#4217)
1c4112c5 refactor: add documentation for ZetaClient logging fields (#4174)
abbefbe6 refactor: remove `LastBlockHeight` state variable (#4200)
58f2b1ed refactor: replace HasPrefix+TrimPrefix with CutPrefix (#4215)
e72df930 fix: update evm version for missing tx types (#4216)
f09cb7b2 chore: fix some comments (#4208)
5112e8d0 refactor: use maps.Copy for cleaner map handling (#4198)
65f227bb fix: add timeout to monitoring routine (#4196)
861c996c fix: unpack bitcoin revert message without considering 'CallOnRevert' flag (#4169)
c9061018 refactor: remove unused loggers and log fields (#4180)
18c1a48b feat: observe inbound from previous gateway package after upgrade (#4138)
c46cd662 fix: remove duplicate solana post-gas-price goroutine (#4194)
95afe866 fix: force rescan if inbound vote monitoring fails  (#4183)
0a84952b refactor: omit unnecessary reassignment (#4184)
79e92e65 chore: remove redundant words (#4179)
ca1b106d test(`e2e`): add all chains by default in `start-localnet` (#4163)
ed6d729a test(`e2e`): add a E2E test to test depositAndCall with high gas consumption (#4177)
17457097 fix: improve zetatool (#4175)
c2973ccd refactor: standardize zetaclient logging (#4144)
03b43be6 chore(deps): bump github.com/go-viper/mapstructure/v2 from 2.2.1 to 2.4.0 (#4173)
87733fee chore(deps): bump github.com/ulikunitz/xz from 0.5.11 to 0.5.14 (#4172)
51dce6dd chore(deps): bump github.com/hashicorp/go-getter from 1.7.8 to 1.7.9 (#4148)
c201c896 test: fix flaky depositAndCall test that failed on sender assertion (#4165)
6ccd7008 chore(`e2e`): cleanup unused contracts (#4161)
43c76d63 test: use pre-deployed example dapp V2 contract in e2e tests (#4158)
3f384283 test(`e2e`): add a gas limit option for ZEVM to EVM call tests (#4145)
62e7d1ce feat: make the gas limit used for gateway calls on ZEVM a configurable parameter (#4153)
62d5528e chore: set v35 as upgrade test reference and various clean up (#4115)
9095fc96 chore: fix some typos in comment (#4146)
9a2b1635 test(`e2e`): improve logs for CCTX status assertion (#4147)
614234cc chore: remove redundant word in comment (#4149)
64253025 refactor: remove intx and outtx deprecated queries (#4150)
3d765192 test: fix flaky Solana SPL deposit balance check (#4142)
bceb38d5 chore: fix some observer message names (#4141)
9b263ac6 chore: fix some function names in comment (#4129)
397e9716 feat: Sui message context ID as dynamic field (#4087)
5e34c8c4 refactor: replace []byte(fmt.Sprintf) with fmt.Appendf (#4131)
21d53751 refactor(zetacore): overwrite consensus config values for all timeout deltas on startup. (#4097)
93805bb8 fix(`crosschain`): remove confirmation mode from outbound and inbound digest (#4116)
0bf3da56 chore: remove tx suffix in vote inbound and outbound message names (#4110)
f773a73b fix(cherry-pick): cancel solana WaC if tx size is too large (#4111)
22e88b48 fix: dbg trace block by number gas limit legacy (#4121)
d41507ca feat: support hostname in addition to public IP for zetaclient to connect to zetacore (#4068)
03d3566f fix: error when deploying contracts on testnet (#4112)
f054d1b5 chore: bump cosmos evm to support querying legacy proposals of type MsgUpdateParams (#4094)
5fa9f945 test: fix flaky Solana depositAndCall tests (#4113)
0954b4a4 test: fix eth deposit test to check balance after deposit (#4118)
e41fe499 test(e2e): update admin e2e tests to use v2 connector  (#4071)
7bca703b fix: print error message in detail if unable to decode Bitcoin memo (#4090)
7f56eb5b feat: add support for withdraw using v2 connector contract   (#4064)
5377ccf5 refactor: remove support for v1 revert address for BTC (#4070)
be79663d fix: ratelimiting race condition vuln (#4072)
```

