# Linea 운영 리포트

- 생성 시각: 2026-02-22T01:36:44.838Z
- RSS: Blob libs v2.2.0-RC4
- 비교 기준(Base): fab6d47dcae1a965805634aedc138f0242d1b852
- 최신 커밋(Head): bd46fd7bb00cd837d151aa7b56c01d0d0f0c87dd

## 한줄 요약
본 커밋은 Linea 블록 압축 라이브러(Blob‑Libs) 버전 2.2.0‑RC3으로 업그레이드하고, TxCompressor 내부 로직을 단순화하여 메모리 사용량과 성능을 개선한 내용이다. 핵심 변경은 재압축 시점에서 사용하던 snapshot 버퍼를 제거하고, 임시 압축기(`tempCompressor`)를 활용해 재압축 결과를 검증한 뒤 최종 압축기로 교체하는 방식으로 바뀌었다. 이로 인한 RPC/JSON‑RPC 인터페이스에는 직접적인 변화가 없으나, 블록 생성 시 압축 비율이 변동될 수 있어 노드 운영에 미묘한 영향이 존재한다.

## 운영자 중요 체크
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 변경점 없음

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 압축 비율이 변동될 수 있어, 아카이브 노드가 저장해야 할 블록당 데이터 양이 변동. 현재는 1% 이하의 차이가 예상되나, 장기적 모니터링 필요.
- 압축 비율이 낮아지면 블록당 스토리지 사용량 증가. 아카이브 노드가 더 많은 디스크를 확보해야 할 수 있다.

## 운영 액션 아이템
- `v2.2.0-RC3` 로 변경된 URL을 반영하도록 `fetchLibFromZip` 호출 수정.
- CI 스크립트에 `libsZipDownloadOutputDir` 경로가 변동되지 않았는지 확인.
- `TxCompressor` 벤치마크를 활용해 현재 압축 비율과 메모리 사용량을 측정.

## 마이그레이션 체크리스트
- 해당 사항 없음

## 위험/주의 사항
- 위험 요소 없음

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- 블록 생성 시 압축 비율을 모니터링하고, 필요시 `TxCompressor` 파라미터(`dataLimit`, `enableRecompress`) 조정.
- `tempCompressor.Write()` 에러 시 `tc.compressor.Revert()` 로직이 정상 동작하는지 테스트. 재압축 실패 시 상태가 일관성 있는지 검증.
- `fullPayload` 버퍼가 과도 커지면 GC 부하를 모니터링. 필요 시 `fullPayload` 초기 용량 조정.

## 원문 커밋 내용
### Commit Log
```text
bd46fd7bb Fixed performance issue in the TxCompressor
eeedbd410 Updated the binary
```

