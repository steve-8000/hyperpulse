# Avalanche 운영 리포트

- 생성 시각: 2026-02-22T01:20:02.241Z
- RSS: sae-devnet.3
- 비교 기준(Base): 5d31915b6bca3b3ed7971e21c80fcb77af4f4494
- 최신 커밋(Head): 4019a688fc6906fa0378805e1d8f4e6f56094ae7

## 한줄 요약
이 릴리즈는 주로 패키징 인프라스트럭처와 동기화 로직 리팩토링에 초점을 두고 있다. 주요 변경 사항은 RPM 빌드 파이프라인을 새로 도입하고, coreth/sync 모듈를 evm/sync 으로 옮겨서 동기화 코드가 재구성되었다. 이 과정에서 일부 테스트 파일과 불필요한 스크립트가 삭제되었으며, FreeListCache 가 제거되고, HealthCheck 로직이 평균 블록 수용시간을 기준으로 실패하도록 변경되었다. 이로 인한 운영상의 영향은 주로 패키징과 동기화 성능에 한정된다. RPC/API 레이어에는 직접적인 변경이 없으나, 새 빌드 파이프라인은 RPM 배포 시 의존성(Go 1.25.7, glibc 2.34) 을 요구한다.


이 릴리즈는 기존 바이너리와 패키징 스크립트가 새로 추가되었으나, 기존 API/JSON‑RPC 인터페이스는 변동이 없으며, 아카이브 노드에 대한 직접적인 영향은 최소다. 다만, 새 빌드 파이프라인을 적용하려면 RPM 빌드 환경(rockylinux:9, nfpm 2.41.1) 을 맞춰야 한다.


아래는 운영자 관점에서 주목할 핵심 포인트이다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 1. .github/packaging 디렉터리와 RPM 빌드 스크립트 추가
- 2. FreeListCache 삭제 및 sync 로직 리팩토링
- 3. HealthCheck 로직이 평균 블록 수용시간 초과 시 실패하도록 변경

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 1. 새 빌드 파이프라인은 glibc 2.34 를 요구하므로, 아카이브 노드가 Rocky Linux 9 환경에서 빌드될 필요성
- 2. sync 로직이 evm/sync 으로 이동하면서, 동기화 코드가 재구성되었으나, 아카이브 노드에 대한 직접적인 영향은 미미

## 운영 액션 아이템
- 1. 새 빌드 파이프라인을 적용하기 전, Docker 이미지(avalanchego-rpm-builder) 를 빌드하고 테스트한다.
- 2. 패키징 스크립트(.github/packaging) 를 CI 파이프라인에 통합한다.
- 3. 새 빌드 스크립트가 요구하는 Go 1.25.7 과 glibc 2.34 를 확인한다.
- 4. HealthCheck 로직이 평균 블록 수용시간 초과 시 실패하도록 변경된 점을 모니터링에 반영한다.

## 마이그레이션 체크리스트
- 1. 패키징 스크립트와 Docker 빌드 환경(rockylinux:9) 을 CI에 반영한다.
- 2. nfpm 2.41.1 의 설치 여부를 확인한다.
- 3. sync 로직 리팩토링에 따른 테스트(특히 sync/evmstate) 를 실행한다.
- 4. HealthCheck 로직이 정상 동작하는지 검증한다.

## 위험/주의 사항
- 1. 패키징 스크립트가 새로 도입되면서 빌드 환경이 변경되어 기존 CI 파이프라인에 충돌 가능성
- 2. sync 로직 리팩토링으로 인한 동기화 성능 변동 가능성
- 3. FreeListCache 제거로 인한 메모리 사용 패턴 변화

## 근거(Evidence)
- ".github/packaging/Dockerfile" 파일 추가(Go 1.25.7, glibc 2.34 요구)
- ".github/packaging/scripts/build-builder-image.sh" 스크립트 추가(Go checksum 검증)
- ".github/packaging/scripts/build-rpm.sh" 스크립트 추가(패키징 로직)
- ".github/packaging/nfpm/avalanchego.yml" 파일 추가(패키징 정의)
- ".github/packaging/nfpm/subnet-evm.yml" 파일 추가(패키징 정의)
- "graft/coreth/sync/evmstate/trie_sync_stats.go" 파일 변경(동기화 통계)
- "graft/coreth/sync/evmstate/trie_sync_stats_test.go" 파일 변경(테스트)
- "graft/coreth/sync/evmstate/trie_sync_tasks.go" 파일 변경(동기화)
- "graft/coreth/sync/evmstate/trie_sync_stats.go" 파일 변경(동기화)
- "graft/coreth/sync/evmstate/trie_sync_stats_test.go" 파일 변경(동기화)

## 운영 메모
- - 패키징 스크립트는 Go 1.25.7, glibc 2.34 를 요구한다. - 새 빌드 파이프라인은 Docker 기반(rockylinux:9) 으로 실행된다. - sync 로직이 evm/sync 으로 이동하면서 테스트 코드가 대거다. 이는 동기화 성능에 영향을 줄 수 있다. - HealthCheck 로직이 평균 블록 수용시간을 기준으로 실패하도록 변경되었으나, 이는 운영 모니터링 지표에 반영된다. - RPC/API/JSON‑RPC 에 직접적인 변경은 없으나, 새 빌드 파이프라인에 의존성(Go 1.25.7, nfpm) 이 추가되었다.

## 원문 커밋 내용
### Commit Log
```text
4019a688f Setup SAE devnet.3
09a9530c3 refactor: in-line network stats package (#4887)
56ae1c12a chore: upgrade lint to 2.9.0 (#4962)
e2a4c07c4 fix: skip flaky firewood test due to go bump (#5001)
a3eb8e9f8 test: skip StateSyncToggleEnabledToDisabledTest flake (#5002)
e5df72d48 [tmpnet] Annotate pods for collection to grafana cloud (#4981)
b94175f09 [nix] Switch to direct import of golang to fix relative path bug (#5000)
77165048f feat: Remove FreeListCache from Firewood config (#4963)
4473fe964 Enable multi-module release and consumption strategy (#4905)
5bf6eaa38 Switch to using solc provided by nix (#4787)
40177fc69 refactor(sync): extract coreth/sync to evm/sync and adapt coreth and subnet-evm (#4921)
d2ebcd58c docs: rewrite releasing readme (#4749)
715b652dd ci: just fuzz a single test (#4989)
a69e790ea ci: change PR fuzz tests timing and bump fuzz test timeout  (#4978)
10f22fa43 [ci] Skip RPM upload for PRs (#4974)
37784248e Update to go `v1.25.7` (#4961)
34d739b0e [ci] Ensure rpm packaging compatibility with legacy subnet-evm (#4970)
3db290645 [ci] Add RPM release workflow (#4959)
24f99339b [ci] Free up space to get the subnet evm antithesis test job passing (#4967)
4187c5c8b Remove Start/Wait mechanic in x/sync (#4926)
c1bca1b9c Fix coreth and subnet-evm flaky tests (#4947)
b57d8728d Use clock time instead of time.Until in proposerVM (#4958)
b6c913d74 chore: rename `atomicTrieDB`  (#4936)
b649e088f chore: sync handler param name (#4937)
97be57ce6 chore: only tag subnet-evm on stable releases (#4951)
f0fc720a7 [ci] Configure dir exclusion from linting via .golangci.yml (#4940)
c1c3e9cd4 Add latest checkpoints to reexecute benchmark for hashdb (#4953)
272a9de15 Simplify go version maintenance (#4950)
e59a0a669 refactor: share constants between avalanchego and subnet-evm (#4914)
473e35d5a Fail HealthCheck if Average Block Acceptance Times are too High (#4911)
```

