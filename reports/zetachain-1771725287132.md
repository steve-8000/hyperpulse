# ZetaChain 운영 리포트

- 생성 시각: 2026-02-22T01:54:47.132Z
- RSS: v36.1.5
- 비교 기준(Base): c6427695c17ce790a9f44d4483494fe66a70abcc
- 최신 커밋(Head): 29a8626ca615e9a5d859ddbcea2678c991b9a887

## 한줄 요약
ZetaChain v36.1.5 릴리즈는 주로 내부 테스트 및 CI 워크플로우 개선, 컨센서 타임아웃 조정, 그리고 RPC‑관련 기능 추가·수정이 포함된 버전이다. 주요 변경 사항은 JSON‑RPC 파라미터 조정, 가스 리밋 설정 가능화, 그리고 ERC20 모듈 동적 활성화 로직이다. 이 릴리즈는 기존 노드 운영에 큰 변동을 주지 않으나, 일부 RPC 파라미터와 아카이브 노드 동작에 미묘한 영향을 줄 수 있다.


주요 변경 포인트:
1. `config.toml`에서 타임아웃 파라미터(`timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta`)가 200 ms → 500 ms 로 증가. 이는 컨센서 타임아웃이 길어져, 노드가 더 많은 pre‑vote/precommit을 기다리게 됨.
2. `eips/eips.go`에 “effective gas price” 관련 로직이 추가되어 RPC‑전용 가스 가격 계산 방식을 바꾼. 3. `cmd/zetae2e/local/evm.go`에서 gateway 호출 시 가스 리밋을 설정할 수 있는 파라미터가 추가.
3. `app/setup_handlers.go`에 ERC20 모듈 활성화 조건이 체인 ID 기반으로 바뀜.
4. `contrib/localnet/`에 새로운 Grafana 대시보드와 테스트 스크립트가 추가.

이러한 변경은 주로 내부 테스트/배포 파이프라인에 영향을 미치나, RPC API와 아카이브 노드 동작에는 직접적인 변동을 주지 않는다.



## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- timeout_propose_delta 200ms → 500ms
- timeout_prevote_delta 200ms → 500ms
- timeout_precommit_delta 200ms → 500ms
- add effective gas price changes for rpc only release (#4444)
- make gas limit used for gateway calls on ZEVM configurable (#4154)
- add conditional logic for adding erc20 module based on chain id (#4125)

## RPC/API 영향
- {"name":"effectiveGasPrice","description":"RPC에서 가스 가격을 계산할 때 새 로직이 적용되며, 기존 방식과 다른 결과를 반환"}
- {"name":"gatewayGasLimit","description":"ZEVM gateway 호출 시 가스 리밋을 설정할 수 있는 파라미터가 추가"}

## 아카이브 노드 영향
- 타임아웃 파라미터 조정으로 인한 컨센서 지연이 늘어, 아카이브 노드가 오래된 블록을 재검증할 때 타임아웃 발생 가능성
- 가스 리밋 설정 변경이 스냅샷 재생성에 직접적인 영향은 없으나, 가스 리밋이 높아지면 스냅샷 생성 비용이 변동될 수 있다

## 운영 액션 아이템
- 1. 컨센서 타임아웃 파라미터(`timeout_propose_delta`, `timeout_prevote_delta`, `timeout_precommit_delta`)를 모니터링하고 필요 시 조정
- 2. RPC API 호출 시 가스 가격 계산 로직이 바뀜 것을 인지하고 클라이언트에 반영
- 3. ERC20 모듈 활성화 조건을 체인 ID에 맞게 설정

## 마이그레이션 체크리스트
- 1. `config.toml`의 타임아웃 파라미터가 500 ms로 조정된 것을 확인
- 2. `effective gas price` 로직이 적용되는지 테스트 스크립트에서 검증
- 3. ERC20 모듈 활성화 로직이 정상 동작하는지 테스트
- 4. 아카이브 노드가 스냅샷을 정상적으로 생성하는지 모니터링

## 위험/주의 사항
- 위험 요소 없음

## 근거(Evidence)
- commit 29a8626c: "backport tracerConfig fix (#4547)"
- commit 2b9568b1: "fix port Bitcoin memo decoding error log print to v34"
- commit 4c04635a9: "add effective gas price changes for rpc only release (#4444)"
- commit 5ce920256: "make gas limit used for gateway calls on ZEVM a configurable parameter (#4154)"
- commit 2d18d5b3: "add conditional logic for adding erc20 module based on chain id (#4125)"

## 운영 메모
- 추가 메모 없음

## 원문 커밋 내용
### Commit Log
```text
29a8626c fix: backport tracerConfig fix (#4547)
228684cd chore: cherry-pick workflow fixes for legacy release (#4499)
d1972d23 fix: reindex txlogs if duplicate indexes are present (#4495)
c04635a9 fix: add effective gas price changes for rpc only release (#4444)
e21cc021 chore(backport/v36-rpc-only): upgrade cometbft patch version (#4338)
753cde7d fix: decoding of legacy eth txs from cosmos msgs (#4308)
e31c5c3d feat: panic validators running this version (#4212)
a3b506c0 fix(backport): update evm version for missing tx types (#4207)
70ab2a72 fix(backport):  force rescan if inbound vote monitoring fails using a context that can timeout (#4202)
d925dd6b fix(backport/v36): unpack bitcoin revert message without considering 'CallOnRevert' flag (#4181)
a881e04b fix: skip writing config file to the filesystem (#4206)
ce920256 feat(backport/v36): make the gas limit used for gateway calls on ZEVM a configurable parameter (#4154)
2d18d5b3 feat: add conditional logic for adding erc20 module based on chain id (#4125)
7880593b refactor(backport): overwrite consensus config values for all timeout deltas on startup (#4126)
65f8f8b3 fix: backport error when deploying contracts on testnet (#4120)
bb32320e fix: backport dbg trace block by number gas limit legacy (#4119)
2b9568b1 fix: port Bitcoin memo decoding error log print to v34 (#4100)
fe897717 fix(v34-only): use SAFE confirmation mode for all inbound votes (#4117)
67e4b0f5 fix: remove store initilization for erc20 module (#4103)
3e4d96c2 chore : bump cosmos evm to support querying legacy proposals of type MsgUpdateParams  (#4095)
7821961e fix: nil reference in trace block (#4093)
24a481e2 fix: cancel solana WaC if tx size is too large (#4098)
de937737 fix: use evm chain id from eth config in rpc backend (#4096)
```

