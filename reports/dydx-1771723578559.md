# dYdX 운영 리포트

- 생성 시각: 2026-02-22T01:26:18.559Z
- RSS: Release protocol/v9.6.1
- 비교 기준(Base): ce73b61c9b85c7e0191fd11f8a600fc10a0d8b29
- 최신 커밋(Head): 213eef5584fc94ab25462bc6ce42d01c4fd38a2e

## 한줄 요약
dYdX 프로토콜 v9.6.1 릴리즈는 CometBFT(CometBFT)와 Cosmos SDK 의 버전을 업그레이드하여 보안 패치(백포트 #3320)를 적용한 버전이다. 주요 변경 사항은 go.mod 및 go.sum 에서 cometbft 와 cosmos-sdk 의 버전 해시를 최신으로 교체한 것이며, 이는 내부 DB 인터페이스와 RPC 동작에 미묘한 영향이 있을 수 있다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 변경점 없음

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 아카이브 노드가 최신 버전으로 재시작 시 DB 스키마 변동 가능성
- tx_search 이슈가 해결되었으나, 기존 인덱스 파일이 호환되지 않을 수 있음
- 재인덱스 필요 시 전체 인덱싱 비용이 발생

## 운영 액션 아이템
- 노드 소스코드를 최신 커밋으로 pull 후 빌드
- DB 백업 및 재인덱스 준비(필요 시)
- 노드 재시작 전 테스트넷에서 동작 검증
- RPC/JSON‑RPC 호출이 정상인지 모니터링(특히 tx_search)
- 아카이브 노드가 재시작 시 인덱스 파일을 새로 생성하도록 설정

## 마이그레이션 체크리스트
- go.mod 및 go.sum 의 변경 사항을 로컬 테스트 환경에 적용 후 빌드
- DB 스키마 변동 여부 확인(특히 cometbft-db v0.12.0)
- tx_search API 동작 테스트
- 아카이브 노드 재시작 시 인덱스 파일 재생성 여부 확인
- 모니터링 지표(예: tx_search 응답시간, 인덱스 생성 시간) 비교
- 백업 및 롤백 포인트 설정

## 위험/주의 사항
- CometBFT v0.38.6 로 업그레이드 시 DB 스키마가 변경될 가능성(특히 cometbft-db v0.12.0 으로 인한 tx_search 이슈)
- Cosmos SDK v0.50.6 로 업그레이드 시 일부 모듈(예: iavl, store) 의 내부 구현이 바뀔어 RPC 호출에 미묘한 영향
- 업그레이드 후 전체 노드 재시작 시 잠정적 서비스 중단 가능성
- 아카이브 노드가 최신 버전으로 재인덱스 필요 여부

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- CometBFT v0.38.6 은 cometbft-db v0.12.0 으로 인한 tx_search 이슈를 해결함
- Cosmos SDK v0.50.6 은 iavl, store 모듈에 대한 내부 버전이 바뀜
- 업그레이드 시 기존 노드는 재시작 필요, DB 스키마가 변동될 수 있음
- RPC/JSON‑RPC 인터페이스는 현재로서는 변경이 없으나, 내부 구현 차이로 인한 성능/에러 처리 방식이 바뀔 가능성

## 원문 커밋 내용
### Commit Log
```text
213eef55 upgrade cometbft and cosmos-sdk for tachyon security fix (backport #3320) (#3321)
```

