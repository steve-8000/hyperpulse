# Sui 운영 리포트

- 생성 시각: 2026-02-22T12:46:24.432Z
- RSS: sui_v1.67.0_1771764285_ci: use zero address for move build --dump (#25074)
- 비교 기준(Base): 74e2b611a3dcd559b3e359d320b276f87a40dc6f
- 최신 커밋(Head): 485d83658b8070aaf2073ed882a316e3939a59a0

## 한줄 요약
이 커밋은 `sui move build --dump` 명령에서 루트 주소를 0으로 설정하도록 하는 옵션을 추가한 것으로, 임시(에피머럴) 퍼블리케이션 시 주소를 0으로 처리하도록 한다. 이는 테스트 스크립트와 빌드 로직에 영향을 주며, 실제 RPC/API에는 직접적인 변경이 없다.

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- crates/sui/src/sui_commands.rs 에서 config.root_as_zero = true 를 추가
- 테스트 스크립트에서 pubfile 경로가 없을 때의 동작 검증 추가

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 아카이브 노드가 저장하는 바이트코드는 루트 주소가 0인 모듈을 포함할 수 있으나, 현재는 테스트용이므로 저장 정책에 영향 없음

## 운영 액션 아이템
- 빌드 스크립트에서 --dump 옵션 사용 시 config.root_as_zero=true 가 적용되는지 확인
- pubfile 경로를 제공하지 않을 경우 빌드가 실패하도록 설정이 정상 동작하는지 테스트

## 마이그레이션 체크리스트
- 기존 빌드 파이프라인에 --dump 옵션 사용 시 config.root_as_zero 설정 여부 확인
- pubfile 경로가 없을 때 빌드 실패 로직이 정상 동작하는지 검증

## 위험/주의 사항
- 루트 주소를 0으로 강제하는 로직이 추가되면서, 기존에 존재하던 모듈 주소가 0으로 치환될 경우 다른 모듈과 충돌이 발생할 가능성
- 임시 퍼블리케이션 시 pubfile 경로를 제공하지 않을 경우 빌드가 실패하도록 설계되어 있어, 운영 환경에서 실수 시 빌드 실패 위험

## 근거(Evidence)
- commit 485d8365: "config.root_as_zero = true" 추가
- test 스크립트 변경 사항(./crates/sui/tests/shell_tests/with_network/ephemeral_dump/dump_with_missing_pubfile.sh)
- test 스크립트 결과(./crates/sui/tests/shell_tests/with_network/ephemeral_dump/dump_with_missing_pubfile.snap)

## 운영 메모
- 루트 주소를 0으로 설정하는 옵션은 테스트용 빌드에만 적용되며, 실제 프로덕션에서는 영향이 적음
- 빌드 시 pubfile 경로를 제공하지 않으면 에러가 발생하도록 설계되어 있어, 운영 시 빌드 스크립트에 주의 필요

## 원문 커밋 내용
### Commit Log
```text
485d8365 use zero address for move build --dump (#25074)
```

