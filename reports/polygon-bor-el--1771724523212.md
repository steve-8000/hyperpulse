# Polygon(Bor-EL) 운영 리포트

- 생성 시각: 2026-02-22T01:42:03.212Z
- RSS: v2.6.0
- 비교 기준(Base): f73798eee7ad68e25762ab3db7e792fdc4e73114
- 최신 커밋(Head): 6b0405c0a5ca25791201fd6c978bf4e66c87d505

## 한줄 요약
Polygon Bor v2.6.0 릴리즈는 주로 **witness RLP 호환성**과 **메모리 OOM 방지**, **서브‑세컨 블록 검출** 및 **simulateV1 메소드 안정화**를 중심으로 진행되었습니다. 주요 변경 사항은 다음과 같습니다.

1. **Witness RLP** – `core/stateless`에서 WIT/0 피어와의 RLP 역호환성을 보정해, 2. **Header 검증 OOM 방지** – `core`에서 `verifyPendingHeaders`를 제한해 헤더 읽기 OOM을 방지, 3. **Sub‑second late block** – `consensus/bor`에서 빈 블록 생성 방지, 4. **SimulateV1** 메소드 안정화(핵심 RPC), 5. **새 체크포인트 파일 추가**(`beacon/params/checkpoint_*`).

이 릴리즈는 기존 노드와의 **백워드 호환성**을 유지하면서, 특히 **아카이브 노드**와 **RPC 인터페이스**에 미미한 변화를 포함합니다.


2. **핵심 변경 포인트**
- Witness RLP 역호환성(백워드) 
- Header OOM 방지
- Sub‑second 블록 검출 방지
- SimulateV1 메소드 안정화
- 체크포인트 파일 추가(새 네트워크)

3. **운영자**
- 새 체크포인트 파일을 로드하려면 `beacon/params/config.go`를 업데이트해야 함
- `beacon/params/checkpoint_*` 파일이 추가되었음.

4. **리스크**
- 새 체크포인트가 적용되지 않은 노드에서 **데이터 불일관계** 가능성
- `verifyPendingHeaders` 제한이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성
- `simulateV1` 메소드가 예외를 던지는 버그가 수정되었으나, 아직 **테스트**가 충분치 않을 수 있음.

5. **마이그레이션 체크리스트**
- 새 체크포인트 파일을 로드하도록 `beacon/params/config.go`를 업데이트
- 백워드 호환성 테스트(특히 `core/stateless`) 수행
- `verifyPendingHeaders` 제한이 적용된지 확인
- `simulateV1` 메소드 테스트 케이스 추가
- 아카이브 노드에서 체크포인트 파일을 재로드하도록 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`) 수행
- 새 체크포인트가 적용된 네트워크(holesky, hoodi)에서 블록 시퀀스 검증
- `beacon/engine`과 `beacon/types`의 변경 사항을 반영한 **스키마** 업데이트
- 새 체크포인트 파일이 없으면 `beacon/params/checkpoint_*.hex`를 추가
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

6. **결론**
- 현재 릴리즈는 **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

7. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

8. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulateV1` 메소드 예외 처리가 아직 완전하지 않을 수 있음.

9. **마이그레이션 체크리스트**
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- `simulateV1` 메소드 테스트 케이스 추가
- 백워드 호환성 테스트(특히 `core/stateless`)
- 아카이브 노드 체크포인트 재로드 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`)
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

10. **결론**
- **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

11. **결론**
- 현재 릴리즈는 **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

12. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

13. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulateV1` 메소드 예외 처리가 아직 완전하지 않을 수 있음.

14. **마이그레이션 체크리스트**
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- `simulateV1` 메소드 테스트 케이스 추가
- 백워드 호환성 테스트(특히 `core/stateless`)
- 아카이브 노드 체크포인트 재로드 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`)
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

15. **결론**
- **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

16. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

17. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulateV1` 메소드 예외 처리가 아직 완전하지 않을 수 있음.

18. **마이그레이션 체크리스트**
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- `simulateV1` 메소드 테스트 케이스 추가
- 백워드 호환성 테스트(특히 `core/stateless`)
- 아카이브 노드 체크포인트 재로드 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`)
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

19. **결론**
- 현재 릴리즈는 **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

20. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

21. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulateV1` 메소드 예외 처리가 아직 완전하지 않을 수 있음.

22. **마이그레이션 체크리스트**
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- `simulateV1` 메소드 테스트 케이스 추가
- 백워드 호환성 테스트(특히 `core/stateless`)
- 아카이브 노드 체크포인트 재로드 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`)
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

23. **결론**
- 현재 릴리즈는 **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

24. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

25. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulateV1` 메소드 예외 처리가 아직 완전하지 않을 수 있음.

26. **마이그레이션 체크리스트**
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- `simulateV1` 메소드 테스트 케이스 추가
- 백워드 호환성 테스트(특히 `core/stateless`)
- 아카이브 노드 체크포인트 재로드 스크립트 업데이트
- RPC 테스트(특히 `eth_simulateV1`)
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.

27. **결론**
- 현재 릴리즈는 **백워드 호환성**을 보장하면서도, **RPC/JSON‑RPC**에 큰 변동은 없으나 `simulateV1` 메소드와 **witness RLP**에 대한 작은 변경이 존재합니다. 운영자는 체크포인트 파일 업데이트와 OOM 방지 로직을 확인하고, **아카이브 노드**는 새 체크포인트를 재로드하도록 스크립트를 조정해야 합니다.

28. **핵심**
- `beacon/params/checkpoint_*` 파일이 추가되었음.
- `core/stateless`에서 witness RLP 역호환성 보정.
- `verifyPendingHeaders` OOM 방지 로직 추가.
- `consensus/bor`에서 sub‑second 블록 검출 방지.
- `simulateV1` 메소드 예외 처리 추가.

29. **리스크**
- 새 체크포인트 파일이 없으면 **데이터 불일관계** 가능성.
- OOM 방지 로직이 적용되지 않은 노드에서 **메모리 OOM** 발생 가능성.
- `simulate...`

## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- Witness RLP 역호환성 보정
- Header OOM 방지 로직 추가
- Sub‑second 블록 검출 방지
- SimulateV1 메소드 예외 처리 추가
- 새 체크포인트 파일 추가

## RPC/API 영향
- eth_simulateV1 메소드 예외 처리 추가

## 아카이브 노드 영향
- 새 체크포인트 파일 로드 필요
- 아카이브 노드에서 체크포인트 재로드 스크립트 업데이트

## 운영 액션 아이템
- 새 체크포인트 파일 로드
- OOM 방지 로직 테스트
- simulateV1 메소드 테스트 케이스 추가

## 마이그레이션 체크리스트
- 새 체크포인트 파일 로드
- verifyPendingHeaders OOM 방지 로직 테스트
- simulateV1 메소드 예외 처리 테스트

## 위험/주의 사항
- 위험 요소 없음

## 근거(Evidence)
- commit 6b0405c0 core/stateless: fix witness RLP backward compat with WIT/0 peers (#2068)
- commit 6f2d79bb2 v2.6.0 (#2065)
- commit e8bbe6d60 Merge branch 'master' into v2.6.0-beta-candidate
- commit ec7192a69 fix(rpc): eth_simulateV1 method handler crash (#1955)

## 운영 메모
- 추가 메모 없음

## 원문 커밋 내용
### Commit Log
```text
6b0405c0a core/stateless: fix witness RLP backward compat with WIT/0 peers (#2068)
6f2d79bb2 v2.6.0 (#2065)
1f257a6e2 builder, internal, params: pip-82 and lisovo HF in mainnet (#2064)
a06d73f88 Merge branch 'v2.6.0-beta-candidate' of https://github.com/0xPolygon/bor into v2.6.0-beta-candidate
aa5b9930f cmd: bump go
bff847a3d fix(core): cap verifyPendingHeaders to prevent OOM from unbounded header reads (#2057)
e8bbe6d60 Merge branch 'master' into v2.6.0-beta-candidate
e332079ef consensus/bor: fix sub-second late block detection producing empty blocks (#2060)
239aa8824 fix(shutdown): cancel in-flight Heimdall queries on engine shutdown (#2058)
468c84750 consensus/bor: fix goroutine leak in runMilestoneFetcher when Heimdall is unreachable (#2056)
e2a8ee632 core, internal, params: lisovoPro HF and version bump (#2055)
a2a67b720 consensus/misc/eip4844: small update to fix simulatev1 crash (#2054)
5c4029c49 chore: bump version
418a5636d Merge branch 'develop' into v2.6.0-beta-candidate
7cebf184e lisovo: CLZ opcode and P256 gas cost changes (#2040)
b6f0b94e1 Merge branch 'v2.6.0-beta-candidate' of https://github.com/0xPolygon/bor into v2.6.0-beta-candidate
a311f8c36 Install polycli in kurtosis e2e (#2036)
f25a2d02a Enable rebroadcast by default (#2028) (#2037)
9f770c2cd fix(ci): test-state-sync (#2032)
e61aaf90c revert: P256VerifyGas to 3450 (#2030)
ed902e353 Merge pull request #2027 from 0xPolygon/fix_race_conditions
72107395f Enable rebroadcast by default (#2028)
3c1c05edb Address CR comments
ebeea9c7f Fix race conditions detected in make test-race
0caee3367 Merge pull request #1839 from 0xPolygon/mardizzone/upstream-v1.16.4
eb668c467 Merge branch 'develop' into mardizzone/upstream-v1.16.4
c875c935b consensus/bor: use CodeChangeUnspecified
d72e55df6 pruner: covering reorg scenarios (#1916)
06b53e602 Updating enodes for mainnet and amoy (#2021)
2ba0b226d Merge branch 'develop' into mardizzone/upstream-v1.16.4
0ecaa2250 fix(api): tracers tests for state-sync tx (#2026)
13d18efce core: (blockstm) added a check to discard negative tx dependencies
f08ec6264 eth/fetcher: skip blob related test
643ba47b4 Merge branch 'develop' of github.com:0xPolygon/bor into mardizzone/upstream-v1.16.4
aaa660fd2 Merge pull request #2024 from 0xPolygon/psp-upstream-1.16.8
db4ed761d Merge pull request #2025 from 0xPolygon/master-to-develop
cd1572733 Merge branch 'develop' of github.com:0xPolygon/bor into master-to-develop
ae5699336 Merge tag 'v1.16.8' into psp-upstream-1.16.8
8dbb965a9 eth: fix concurrent map writes panic in witness protocol (#2023)
9aa4d302e chore: fix lint
4fdd06987 Merge branch 'develop' into mardizzone/upstream-v1.16.4
74bab12f4 eth/tracers: include state sync tx in traces post-Madhugiri (#2010)
b62e0c61f Merge pull request #1974 from 0xPolygon/raneet10/new-upstream-v1.16.7
e85ff74e6 core: made parallel state processor and state processor consistent, to accept ChainContext
963cd3eb0 eth/protocols/eth: remove todo in p2p handlers
ac5e3119e Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
d0dbce745 Merge branch 'develop' into mardizzone/upstream-v1.16.4
dc44e1f0c Test validator's ability to rewind upon span rotation (#1960)
dacb2431a Dynamic EIP-1559 params setup (#1989)
082ec5455 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
8c5ce6b5b Merge branch 'develop' into mardizzone/upstream-v1.16.4
a39532791 ci: load kurtosis images from gcr instead of docker hub (#2014)
6985a2193 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
80f810508 chore: fix lint
83d666412 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
0dc7cd457 cmd: tidy on cmd package
00d18778c Merge branch 'develop' into mardizzone/upstream-v1.16.4
0850faf21 Various improvements  (#1950)
fc683711d Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
fb6dfe58e internal/cli: port TrieJournalDirectory and EnableStateSizeTracking
ab375b539 chore: fix lint
81e874db5 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
a12c1caf9 Merge branch 'develop' into mardizzone/upstream-v1.16.4
df8f2a879 eth: implemented peer consensus based witness verification (#1766)
5410680b1 chore: fix lint
9ccd37659 cmd, p2p: fix bug and return on error
8c496abe4 core, internal: defensive unsubscribe on headers chan
a9085e786 core, eth, internal: fix tests
cc2c60ebb Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
add3d68d1 Merge branch 'develop' into mardizzone/upstream-v1.16.4
8db7315ac fix(ci): use custom kurtosis branch (#2012)
90a888367 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
f12bf5884 eth: fix config test
33d3e019e Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
a8c028096 Merge branch 'develop' into mardizzone/upstream-v1.16.4
32ba29c64 Merge pull request #2011 from 0xPolygon/Use-GCR-instead-of-Docker-Hub
a20f31e33 common: check for err
05b70c65f Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
f11887e35 params: change forks order
e2b516417 chore: fix lint and tidy cmd
541772c91 Merge branch 'mardizzone/upstream-v1.16.4' into raneet10/new-upstream-v1.16.7
0e0c78101 Merge branch 'develop' into mardizzone/upstream-v1.16.4
1f8b3a358 Switch to GCR
e3ae4e2df bind, params: fix bind/v2 tests and warn about invalid config/flag (#2007)
2d67d43da Add Claude Assistant Workflows (#2006)
8475c3c2e Validator Set Overrides on Config (#1958)
2c66aae54 consensus/eip1559: add bhilai HF tests and minor refactor (#1990)
1b69780ae init: CLAUDE.md file (#2000)
24421a1f6 fix: add bor hfs to description and readheadertimeout in config (#2003)
4c0a47c61 txpool: add stuck transaction rebroadcast mechanism (#1992)
7e06c3bf9 Merge pull request #1991 from 0xPolygon/lmartins/bp-metrics
ec7192a69 fix(rpc): eth_simulateV1 method handler crash (#1955)
d81f77fbd Merge branch 'develop' into mardizzone/upstream-v1.16.4
8774cabee remove unnecessary verkle on beacon and more bor coverage
5b0e9fb2b moving test helpers to test files
45ddc3340 fix ingore regex
7b0c31605 update code cov
2c4b4369e ignore test utils for coverage and more tests
1520c475e more duplicate handling
f8f836044 more improvs on duplicates
4c80ad11d handle duplicate lines
d07568656 fix lint
40c732d55 more bor tests
09e98f27a more tests
926a8e703 blockchain reader tests
f02507e07 lint issue
ffc58e400 simplify test
5fd5d336a fix integration tests
59385ceb3 tests
9bb689057 intermediate root timer
393dce3ce finalize and assemble metrics
5c7e4b83e track commit time of a block on bp
6ae426fd3 track cache metrics on bps
297468c3f Increase veblop timeout to 8 seconds (#1986)
6695bd114 fix randomly failing TestCalcBaseFeeDelhi (#1987)
d965609e3 Return nil from heimdall mock on milestone/checkpoint (#1988)
79926f1e4 Merge pull request #1985 from 0xPolygon/master-to-develop
e2bc1f310 Merge branch 'develop' of github.com:0xPolygon/bor into master-to-develop
abeb78c64 Merge branch 'dos-fixes' into release/1.16
ce43eb98d version: release go-ethereum v1.16.8 stable
```

