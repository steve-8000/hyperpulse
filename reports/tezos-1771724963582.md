# Tezos 운영 리포트

- 생성 시각: 2026-02-22T01:49:23.582Z
- RSS: review-LA1: Fix rebase conflict.
- 비교 기준(Base): 88f5a5fb4d2a658e1b890a6d34a126716d11abc3
- 최신 커밋(Head): 11ad8fa8ea068ae9ebee23af4e79bf49ac3f7653

## 한줄 요약
이 릴리즈는 주로 RPC, 문서화, 그리고 프로토콜 상수(상수) 재정의에 관한 변경을 포함한다. 핵심은 새 RPC `proto/delegate/<id>/frozen_balances` 도입과 블랙체인에서 사용되는 해시/키 관련 모듈의 재배치, 그리고 여러 상수 이름 변경이다. 이로 인해 노드 운영자는 RPC 호출과 아카이브(보관) 노드 동작에 대한 주의적 변화를 인지해야 한다.

## 운영자 중요 체크
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 변경점 없음

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 아카이브 노드는 `frozen_balances` RPC를 주기적으로 호출하지 않으므로 직접적인 영향은 적음. 다만, 새 RPC가 도입되면 노드가 해당 엔드포인트를 인식하도록 `tezos-node` 빌드에 반영되어야 함.
- 상수 이름 변경은 아카이브 노드가 상수를 로딩할 때 사용되는 `protocol_parameters.json` 파일에 반영되어야 함. 변경이 없으면 오래된 노드가 새 파라미터를 인식하지 못해 데이터 불일치 발생 가능.

## 운영 액션 아이템
- 새 RPC를 테스트 환경에 배포 전 `tezos-node` 빌드 시 `make -C src/bin_node` 로 컴파일 확인.
- 프로토콜 파라미터 파일(`scripts/protocol_parameters.json`)을 최신으로 교체하고, `tezos-node`와 클라이언트가 동일한 버전을 사용하도록 조정.
- 블랙2B 모듈 이동에 따른 `dune` 의존성 경로를 검증하고, 필요 시 `opam install tezos-crypto` 재실행.

## 마이그레이션 체크리스트
- 새 RPC가 도입된 경우, 클라이언트/노드 간 JSON‑RPC 스키마를 재검토.
- 프로토콜 파라미터 파일(`scripts/protocol_parameters.json`)의 상수 변경 사항을 반영.
- `blake2B` 모듈 이동에 따른 빌드 경로 검증.
- 아카이브 노드가 `frozen_balances` RPC를 호출하지 않더라도, 스키마 변동이 있으면 `tezos-node`가 재컴파일 필요.

## 위험/주의 사항
- 새 RPC가 도입되면서 기존 클라이언트/노드간 통신 프로토콜이 변동될 수 있다. 특히 `frozen_balances` RPC는 현재 메모리/스토리지에 대한 추가 조회를 요구하므로, 대규모 노드(아카이브)에서 이 RPC 호출을 주기적으로 수행하면 I/O 부하가 증가할 수 있다.
- 상수 이름 변경(예: `max_revelations_per_block`, `block_per_roll_snapshot` 등)은 기존 스크립트/스마트컨트가 상수에 의존하는 부분이 있다면 마이그레이션 시 오류를 유발할 수 있다.
- `blake2B` 모듈이 `lib_base`에서 `lib_crypto`로 이동하면서 컴파일 타임에 의존하는 모듈 경로가 바뀌어, 빌드 체인에서 `make` 실패 가능성 존재.
- 새 RPC 도입과 상수 변경이 테스트/배포 파이프라인에 미리 반영되지 않으면, 운영 중단시간이 늘어질 수 있다.

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- 새 RPC 도입은 클라이언트/노드간 JSON‑RPC 스키마를 재검토해야 한다. 특히 `frozen_balances`는 `GET /proto/delegate/<id>/frozen_balances` 형태이며, 반환값은 `{ "balance": <int>, "timestamp": <string> }` 형태.
- 상수 이름 변경은 프로토콜 파라미터 파일(`scripts/protocol_parameters.json`)에 반영되어야 하며, 기존 스크립트가 이 파일을 읽어 상수를 참조할 경우 마이그레이션 필요.
- `blake2B` 모듈 이동은 `opam install tezos-crypto` 후에 빌드가 정상 동작하도록 `dune` 설정을 확인할 것.

## 원문 커밋 내용
### Commit Log
```text
11ad8fa8 Fix rebase conflict.
a4910835 Alpha: added rpc 'proto/delegate/<id>/frozen_balances'
3ad1ea07 Doc: some opam-foo advices
dbe4a20d Reset the chain
b6ed841c Genesis: fix genesis key
2c3906d1 Zeronet: document faucet
7429a5b2 Client: fix wallet import
020ef194 Client: add a claim operation that activate a commitment account
aeaf2a24 Client: temporary hack
ec256901 Client: minor refactoring
326226d5 Genesis: add mnemonics, passwords and emails to genesis info generation
eb1dfb7f Shell/Alpha: allow usage of secp256k1 for signature
9adee552 Import: ocaml-secp256k1 in `vendors`
19843b96 Client: use source_param instead of alias_param
3765c394 Client: fix for issue #161.
3d57055c Alpha: use protocol parameters instead of sandbox to tune constants
98f30a3e Alpha: allow more constant parametrization
90afe583 Fix: broken Ocsigen links
1833434f Fix: rpc json schema output would in some cases not be generated
09404421 Alpha: fixed type of Tez for constants
c6ffe4a5 Alpha: better threading of fees and rewards
401eecee Client: fix error when signing with encrypted keys
ce2d196b Data_encoding: be compatible with 32bits platform.
a8beaec4 Alpha: added a rpc to retrieve all constants at once.
91dfb730 Alpha: parametrize protocol activation with commitments and bootstrap accounts
e6418b46 Test: minor improvements to test_lib.inc.sh
80cdf6d0 Shell: A bit of randomization for gap in block locators.
5f69ae87 Sandbox: deactivate the minimal stamp of proof of work for bakers
745aabcd Script: allow to reinitialize a sandboxed client
4f2b2f8e Alpha: use Base58 for displaying commitment
9ffead02 Shell: simplify hash signatures
a5763060 Fix .gitignore
ffa56852 Script: generate prefix for base58 encoding
21efb2dc Jbuilder: update to beta.19.1
b7c2bac8 OPAM: fix `tezos-crypto.opam`
bf32659a Proto/Env: Replace `configure_sandbox` by proper `init`
6f0cc397 Shell: move back hash encoders from `lib_base` to `lib_crypto`
08a3cff5 Base: rename `Cli_entries` into `Clic`
4ad127c3 Client: wait for operation inclusion command and RPC
38c7453e Shell/RPC: allow `/blocks/<hash>~n/...`
fcdf36ac Shell/RPC: remove the fake block `/blocks/prevalidation`
c332343c Alpha: add one mutez in interface
c2990b4f Alpha: replace the faucet by preallocated-contract activation.
f98ed355 Blake2B: export `kmac` function.
15955dcb Alpha: genesis block allocation script
afb1e0f2 Proto/Env: remove `{Set,Map}.find`
48cc2e99 Proto/Env: rename `Set.S` and `Map.S` into `S.SET` and `S.MAP`.
fc1ea36a Docs: fix the RPC and error docs intros
73ba0a3f Docs: normalize and prettify both errors and rpc documentation
369b6d79 Fix: sphinx warning about bad reference
8441e0c7 Docs: add dynamic parameters description
d64d448c Fix: typos in rpc block's dynamic argument description
55d25c66 Docs: add rpc documentation generation
385a600e Docs: add error documentation generation
19eb1c25 Error_monad: change error wrapping to flatten the JSON format
bd319105 Data_encoding: make more combinators transparent to is_tup/is_obj
e0a4147b Alpha: add missing error registrations
583563ed Remove dead file
72b77891 Alpha: reduce tips for inclusion of seed revelations
53197527 Vendors/tweetnacl: do not intermix tweetnacl with custom code
ae316d75 Sandbox: Faster block generations in sandbox mode
7fabac67 Alpha/RPC: fix typo in the RPC for parsing and forging.
590e67f7 Docker: reinstall 'vi' in docker image
5399dee5 test: add tezos-alpha-baker command in tezos-init-sandboxed-client
f6dbdf7a Test: fix make fix-indent erase all problem
34a8c30c Alphanet.sh: fix `--rpc-port` (fix #137)
9035bb94 Baker: do not generate random when not required
bf0dfda7 Alphanet: fix `docker-compose` version
cdf7b706 Makefile: use ${MAKE} for recursive calls
9ef69b45 Client, test: Add two more protocol injection tests (from alpha)
c6c9117c Client,test: add test for demo protocol activation
c2f74f9f Alphanet: use vanity key for the bootstrap accounts
01dd7d15 Client: better error messages for unwrapped JSON objects.
55ad2945 Alpha: fix typo s/token_per_rolls/tokens_per_roll
bdf6a5e5 General: update jbuilder to 1.0+beta19
75274bf9 Zeronet/alphanet: update constants.
c5792cd7 Shell: remove outdated operation on new blocks
edb40c79 Alpha/test: allow to deactivate seed renewal
dabf4c15 Fix `alphanet_constants.patch` and reset the chain
19d9ce1f Alpha: fix tests
0b31daea Alpha: rename `Double_endorsement/baking` into `Double_endorsement/baking_evidence`
5ac629f3 More renaming `registred` -> `registered`
71ee3114 Alpha: rename `bond` into `deposit`
987e4a53 Alpha: introduce constant `max_revelations_per_block`
8e77382a Alpha: remove constant `max_number_of_operations`
c1ddec37 Alpha: rename `voting_period_length` into `block_per_voting_period`
7ef28031 Alpha: rename `max_signing_slot` into `endorsers_per_block`
43609e2e Alpha: rename `baking_reward` into `block_reward`
6b53e3f5 Alpha: rename `endorsement_bond_cost` into `endorsement_security_deposit`
74d33446 Alpha: rename `baking_bond_cost` into `block_security_deposit`
19cb91bc Alpha: rename `slot_durations` into `time_between_blocks`
4be68973 Alpha: rename `cycle_length` into `blocks_per_cycle`
4f968d6f Alpha: rename `block_per_roll_snapshot` into `blocks_per_roll_snapshot`
e81c02c2 Alpha: remove Faucet limit
5fa0b074 Alpha: rename constant `initial_roll_value` into `tokens_per_roll`
dc681551 Alpha: adjust constants
abe769c3 Alpha: don't burn `origination_burn` twice...
a41d5531 Alpha: use distinct quota for `anonymous_operation`
040ac648 Alpha: better error message when registering delegates
a95e6012 Alpha: don't fail when burning previously burned bond/fees/rewards.
0cf6f8ff Alpha: do not decrease delegation rights expiration date when provisioning
04bbbf9f Alpha: deactivate inactive delegate
fc08f2f8 Alpha: add missing error registrations
2eaae225 Alpha: forbid delegation to the current delegate
5026d6a6 Alpha: allow to tag a delegate as inactive
76d11fca Alpha: add operation `Double_baking`
09c1e317 Alpha: add operation `Double_endorsement`
e1a1f754 Fix indent in `gen_genesis.ml`
3aef2ed5 Alpha: remove hash from `Operation_repr.t`
e2af8dbe Alpha: randomly select a roll snapshot for each cycle
b4dad92a Alpha: remove dead alphanet specific code
6dccfa4a Alpha: prepare storage for multiple roll snapshots per cycle
0283bee6 Alpha: add constant 'block_per_roll_snapshot'
4e9fd509 Proto: export the 'last_allowed_fork_level'.
726bf595 Jbuilder: fix error reporting in protocol compilation
226a9a17 Proto_alpha: fix typo "unpexpected"
8364e271 Data_encoding: typo in error message
2fbc60af Michelson: make maximum integer for gas 32 bit compatible (#169)
2d9bbcce Alpha: fix PoW stamp value
b09183a2 Alpha: remove emptied frozen balances
```

