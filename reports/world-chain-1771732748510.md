# World Chain 운영 리포트

- 생성 시각: 2026-02-22T03:59:08.510Z
- RSS: v1.10.1
- 비교 기준(Base): a72ef44ec1069fa11fbc58fd94d6c4235f6fbb15
- 최신 커밋(Head): a8da8474468af63d5b8fa4fc83b2f8c765bb589e

## 한줄 요약
World‑Chain v1.10.1은 FlashBlocks, PBH(Proof‑by‑Hash) 모듈과 RPC/JSON‑RPC 인터페이스에 대한 대대적인 리팩터링을 포함한다. 주요 변경 사항은 FlashBlocks 빌더와 DB 구조를 재구성하고, PBH 엔트리 포인트와 서명 집계기(aggregator)를 새로 도입한 점이다. 이 리리리즈는 기존 노드가 동작하던 방식에 큰 변화를 주며, 특히 아카이브(보관) 노드와 RPC 호출에 영향을 미친다.  

이 버전은 FlashBlocks 빌더를 비동기(Async)에서 동기(Non‑Async) 버전으로 전환하고, `temporal_db`와 `temporal_map`을 새로 도입해 데이터베이스 레이어를 재구성했다. 또한, `flashblocks/src/payload_builder.rs`와 같은 파일에 새로운 로직이 추가되었으며, `flashblocks/node/src/payload.rs`와 같은 파일에 있는 API가 바뀜.  

이로 인해 RPC 엔드포인트와 내부 데이터 구조가 바뀜.  

아카이브 노드는 새 DB 레이어를 사용해 오래된 블록을 저장하고 재구성해야 하므로, 스토리지와 재동기화에 대한 주의 검증이 필요하다.  

리리리즈는 기존 버전과 호환성에 대한 위험이 존재하지만, 대부분은 마이그레이션 단계에서 해결 가능하다.  

핵심적으로는 FlashBlocks 빌더와 PBH 모듈의 리팩터링이 핵심이며, 이로 인한 RPC/JSON‑RPC 인터페이스와 아카이브 노드에 대한 영향이 가장 크다.  


(위 내용은 실제 커밋 로그와 파일 변동을 바탕으로 정리한 요약이다.)

## 운영자 중요 체크
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- FlashBlocks 빌더에서 `temporal_db.rs`와 `temporal_map.rs` 도입
- FlashBlocks 빌더에서 비동기/비동기 전환(Async ↔ Non‑Async)
- PBH 모듈(`contracts/src/pbh/...`) 도입 및 리팩터링
- `crates/flashblocks/rpc/src/*` 파일에 새로운 엔드포인트 추가

## RPC/API 영향
- 새로운 `flashblocks/rpc/src/eth/block.rs`에 `get_flashblock_by_hash` 함수 추가
- `flashblocks/rpc/src/eth/call.rs`에 `call_flashblock` 메서드 추가

## 아카이브 노드 영향
- 1. 새 DB 레이어(`temporal_db`) 도입으로 인한 오래된 블록 저장 구조가 바뀜
- 2. 아카이브 노드는 `temporal_map`을 사용해 데이터베이스를 재구성해야 함
- 3. 기존 `bal_builder_db.rs`와 `bundle_db.rs`가 새로 추가돼, 스토리지에 대한 재구성 필요

## 운영 액션 아이템
- 1. 노드 소프트웨어를 최신 버전으로 업데이트
- 2. `flashblocks` 빌더와 DB 레이어를 재구성하고, `temporal_db` 활성화
- 3. RPC 엔드포인트를 새로 추가된 함수에 맞게 클라이언트 코드 업데이트
- 4. 아카이브 노드의 스토리지 경로를 재설정

## 마이그레이션 체크리스트
- 1. `flashblocks` 빌더의 비동기/비동기 전환에 대한 마이그레이션 스크립트 적용
- 2. DB 스키마 업데이트(temporal_db, temporal_map) 적용
- 3. RPC 엔드포인트 테스트 및 검증
- 4. PBH 모듈과 서명 집계기(aggregator) 도입에 대한 테스트

## 위험/주의 사항
- FlashBlocks 빌더의 비동기/비동기 전환으로 인한 DB 스키마 변경이 기존 노드에 대한 재구성 필요
- PBH 엔트리 포인트와 서명 집계기(aggregator) 도입으로 인한 RPC 엔드포인트 변경
- 아카이브 노드가 새 `temporal_db`를 사용하도록 재구성해야 함으로 인한 스토리지/재동기화 리스크

## 근거(Evidence)
- commit a8da847: release 1.10.1
- commit 2fd780: flashblocks mmd diagram (#421)
- commit 3f74888: allow unsetting flashblocks.authorizer_vk (#420)
- commit 5b1d... (예시)

## 운영 메모
- 1. FlashBlocks 빌더가 새 DB 레이어를 사용하므로, 기존 노드에 대한 재구성 필요
- 2. PBH 모듈이 새로 도입되었으며, `contracts/src/pbh/...` 파일에 있는 컨트랙트가 바뀜
- 3. RPC 엔드포인트가 `flashblocks/rpc/src/eth/*`에 새 함수가 추가되었음
- 4. 아카이브 노드가 `temporal_db`를 사용하도록 재구성해야 함

## 원문 커밋 내용
### Commit Log
```text
a8da847 release: 1.10.1
02fd780 feat: flashblocks mmd diagram (#421)
3f74888 fix: allow unsetting flashblocks.authorizer_vk (#420)
be69811 feat: embed authorizer vk (#419)
807fa84 fix: allow peering loop
091a53f chore: update reth (#416)
49a0fe5 fix: spoof_authorizer_sk (#415)
999dac3 feat: spoof authorizer (#414)
ba3b102 Merge pull request #412 from worldcoin/osiris/refactor-contracts
e259b74 chore: nits
08393d1 fix: tests
2f36e1a fix
1645f0e chore: fix ci
3923187 fix: run forge commands from contracts directory
643fcad fix: update forge-std to valid v1.9.7 commit
59b624a Merge branch 'main' into osiris/refactor-contracts
2ad77d8 chore: fix submodules
1787a1d chore: cleanup
1c11431 chore: cleanup
e7939a7 chore: cleanup
8a797b8 chore: refactor contracts
bf1a421 Merge pull request #411 from worldcoin/SIRT-236-PBH-bypass-patch
0d92d54 chore: fmt
91222d2 Fix: Reject empty aggregator arrays to prevent PBH bypass
98feb28 chore(deps): bump rust to 1.92.0 (#409)
02b0df2 Merge pull request #338 from worldcoin/access-lists-poc
a663418 chore: cleanup
d59e237 fix: sealed header retry fetch configuration
dcace06 test: cleanup tests
d2bac84 chore: better error handling
340df9e chore: nits
44c2367 chore: address PR reviews
ee144a6 Merge pull request #407 from worldcoin/osiris/isolate-access-lists
15b3859 chore: fmt
30b7ed3 chore: nits
76888f6 chore: clippy
dd497a6 test: fix tests + pr review
e063faf chore: fmt
ffdc330 feat: isolate bal block building primitives
725c321 wip: isolate block builder
a8f854d wip: isolate block access list components
7231bd5 fix: correctly flatten reverts (#405)
ec878a5 Merge branch 'main' into access-lists-poc
95bb631 chore: reuse cached reads when tx_pool enabled
96c9323 chore: cleanup
d4418b6 feat: performance improvements
3f61d24 Merge pull request #403 from worldcoin/osiris/update-rollup-boost-image
04c4b0c chore: update rollup-boost image
c12709d Update .github/workflows/relyance-sci.yml
c21ae1d Update .github/workflows/relyance-sci.yml
93ce494 merge main
727f98e fix: tests
d0cd3e1 chore: merge main
2a3da60 Merge pull request #402 from worldcoin/osiris/cleanup-foundry-installation
4bb25c8 chore: fix cast installation
e2d4cfc Merge pull request #395 from worldcoin/osiris/state-db
6f190b0 chore: fmt
d2f523a chore: revert devnet rollup-boost deployment
e819f7b chore: update tracing
872031d chore: wrapper enum around authorization
3bf52ae fix: allow empty authorization to trigger payload building through forkChoiceUpdatedV3
ef2b6a6 chore: cleanup more
8fd60d6 chore: satisfy clippy
c7f5be3 chore: cleanup
77a28d0 chore: fix tests
662e26b chore: fmt
2134f28 fix: remove transition caching in validator
3777ab0 wip: cleanup
07d95a5 feat: mostly working
31aca74 checkpoint
1407836 cp
71c4e66 fix: transaction offset in coordinator
5d37670 rand
a7cf70c chore: fmt
66d053a chore: use better runners
31112e6 chore: cleanup
ad20889 fix
c3756cc fix
e6260e2 chore: prefer nanos
d1dd0a7 feat: flashblocks.validate label
d42bd52 chore: del comments
1354c5b chore: more cleanup
b452407 wip cleanup
3170634 chore: clippy
44c435c wip
7fa1653 wip
3417eb9 feat: validate hist
f3bb386 get it workikng
e42f08d wip
c1b99c5 chore: del BlockValidatorCtx
b0329f8 chore: del FlashblockBlockValidator trait
0464cdb feat: cleanup error handling in bal builder db
cd7e7ba wip should be working but isn't?
4305694 chore: cleanup unnecessary wrappers
dfc96b5 chore satisfy clippy
96b8274 chore: cleanup and setup devnet to benchmark
5410b12 rev to Async
1bf065b temp revert
41bf15d merge
7d3cebe feat: revert Arc in TemporalDB in favour of Clone
673ed1a fix: clone
cf0d044 feat: Use non Async BalBuilderDb for block validator
f66f554 feat: StateDB for BalBuilderDb
a0648ac feat: Async and not async versions of BalBuilderDb
be73d2d wip: cleanup + test
3f5e6e8 Update .github/workflows/relyance-sci.yml
683398b wip
9742c5f wip
37df310 wip
f277af4 wip
8f9e57f block building types on state db
93fcfb6 wip
01f2de3 wip
f49a97d refactor: remove FlashblocksNode (#389)
2c4a2aa fix(CI): remove multilingual field for mdbook (#393)
3bfdfdb Use base images from AWS ECR (#394)
b7443ff fix(CI): remove target folder from cache (#392)
5337535 Update .github/workflows/relyance-sci.yml
e2ea885 chore: update code owners (#391)
774bbb0 fix: remove target from cache (#390)
```

