# BNB Chain 운영 리포트

- 생성 시각: 2026-02-22T01:22:46.768Z
- RSS: v1.7.0-alpha
- 비교 기준(Base): 02f6492a95cadffb472e76fec836806389cb2db0
- 최신 커밋(Head): 1efeee0421003c6e9a28c56dd40b55bf482cf26c

## 한줄 요약
v1.7.0‑alpha 릴리즈는 BNB Chain에서 여러 핵심 모듈에 대한 리팩토링과 신규 기능을 도입합니다. 주요 변경사항은 RPC/JSON‑RPC 인터페이스 확장, 트리엔드(Verkle) 기반 스냅샷 구조 개선, 그리고 필터맵 재구성 최적화 등입니다. 이 릴리즈는 기존 노드 운영에 큰 영향을 주지 않으나, 아카이브(보관) 노드와 스냅샷 재구성에 주의가 필요합니다.

## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 외부 API 엔드포인트/버전 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 1. core/rawdb, pathdb: trienode history header 재구성 및 버그 수정
- 2. eth/filters: transactionReceipts 구독 추가
- 3. internal/ethapi: eth_SendRawTransactionSync 메서드 추가
- 4. cmd/geth: add flag to set genesis

## RPC/API 영향
- eth_SendRawTransactionSync

## 아카이브 노드 영향
- trienode history header 재구성으로 인한 스냅샷 재구성 필요
- pathdb: 버그 수정으로 인한 데이터 일관성 이슈 가능

## 운영 액션 아이템
- 1. geth 최신 버전(1.7.0‑alpha) 로 교체
- 2. 스냅샷 재구성 시 trienode history header 재구성 적용
- 3. eth_SendRawTransactionSync 호출 테스트 및 모니터링

## 마이그레이션 체크리스트
- 1. 스냅샷 재구성 전 백업
- 2. trienode history header 버그 수정 적용 여부 확인
- 3. eth/filters 필터맵 재구성 로직 테스트
- 4. eth_SendRawTransactionSync 호출 시 동작 검증

## 위험/주의 사항
- 1. 트리엔드(Verkle) 구조 변경으로 인한 스냅샷 재구성 시 데이터 일관성 이슈 가능
- 2. eth_SendRawTransactionSync 추가로 인한 RPC 호출 시 버그 발생 위험
- 3. 필터맵 재구성 로직 변경으로 인한 필터 API 성능 저하 가능

## 근거(Evidence)
- commit 1efeee04: Merge pull request #3524 from bnb-chain/develop
- commit 41257c15: BEP648: Enhanced Fast Finality via InMemory Voting Pool (#3520)
- commit 98bb3e9d: internal/ethapi: recover GetDiffAccounts and GetDiffAccountsWithScope (#3516)
- commit f4d66f2d: pathdb: add backward compatibility for legacy journal file format
- commit 30c78d4d: fix evm ci (#24)
- commit 5b77af39: version: begin v1.16.6 release cycle
- commit 7fb91f3c rpc: remove unused vars (#33012)
- commit 5dd0fe2f: core/rawdb: fix db inspector by supporting trienode history (#33087)
- commit 5c6ba6b4: p2p/enode: optimize DistCmp (#32888)
- commit 5c6ba6b4: p2p/enode: optimize LogDist (#32887)

## 운영 메모
- - RPC API에 새 메서드 eth_SendRawTransactionSync 추가로 기존 클라이언트가 호출 시 버그 발생 가능성 점검
- - 필터맵 재구성 로직이 변경되어 필터 API 성능 저하 가능성 검토
- - 트리엔드 구조 재구성으로 인한 스냅샷 재구성 시 데이터 일관성 이슈 검토

## 원문 커밋 내용
### Commit Log
```text
1efeee04 Merge pull request #3524 from bnb-chain/develop
41257c15 BEP648: Enhanced Fast Finality via InMemory Voting Pool (#3520)
e8a4ba0f release: prepare for release v1.7.0-alpha (#3523)
02f61b21 feat: support import/export checkpoint file for filtermap
b9768bb3 chore: fix some function names in comment
82cc7c86 build: upgrade github actions to latest versions
3b15ea14 Merge pull request #3505 from allformless/upstream-geth-v-1-16-7
d8483908 core/vm: remove useless change
ea120ec0 Merge branch 'develop' into upstream-geth-v-1-16-7
23efe11a core/state: fix handleDestruction for fast node (#3519)
380319b0 Merge pull request #3518 from bnb-chain/release-v1-6-6
c18764e0 core/state: more comments for handleDestruction in fast node mode (#3517)
98bb3e9d internal/ethapi: recover GetDiffAccounts and GetDiffAccountsWithScope (#3516)
f4d66f2d pathdb: add backward compatibility for legacy journal file format
30c78d4d fix: fix evm ci (#24)
03a3ea51 cmd/jsutils: update default turnLength to 8 (#3513)
954d67b9 upstream: fix after merging geth v1.16.7 (#15)
a8e8014d Revert "eth/protocols/eth: reject message containing duplicated txs and drop peer (#32728)"
2bb470cd ci: ignore nancy failre of quic-go@v0.49.1 (#3512)
9f66420e miner/minerconfig: get defaultNoInterruptLeftOver automatically (#3509)
2425eeae Merge branch 'geth-v-1-16-7' into upstream-geth-v-1-16-7
f5d420d1 fix: add back Contract CodeAddr for superinstruction (#3502)
c438d356 statedb.go: fix NoTries mode snapshot storage delete (#3501)
be06f523 miner: enable more prefetch threads in local mining mode (#3496)
b9f3a3d9 Merge branch 'master' into release/1.16
07129d21 version: release go-ethereum v1.16.7 stable
653f8d49 go.mod: update to c-kzg v2.1.5 (#33093)
5b77af39 version: begin v1.16.7 release cycle
386c3de6 Merge branch 'master' into release/1.16
044828e6 version: release go-ethereum v1.16.6
02507242 params: set osaka and BPO1 & BPO2 mainnet dates (#33063)
28c59b7a core/rawdb: fix db inspector by supporting trienode history (#33087)
18a90279 common: fix duration comparison in PrettyAge (#33064)
e6d34c1f eth/tracers: fix prestateTracer for EIP-6780 SELFDESTRUCT (#33050)
243407a3 eth/downloader: fix incorrect waitgroup in test `XTestDelivery` (#33047)
ccacbd1e common: simplify FileExist helper (#32969)
5dd0fe2f p2p: cleanup v4 if v5 failed (#33005)
ae37b492 accounts/abi/bind/v2: fix error assertion in test (#33041)
739f6f46 .github: add 32-bit CI targets (#32911)
59d08c66 internal/jsre: pass correct args to setTimeout/setInterval callbacks (#32936)
b1db341f core: refine condition for using legacy chain freezer directory (#33032)
33dbd64a core/types: optimize modernSigner.Equal (#32971)
447b5f7e core: don't modify the shared chainId between tests (#33020)
078a5ecb core/state: improve accessList copy (#33024)
7fb91f3c rpc: remove unused vars (#33012)
cfa3b961 core/rawdb, triedb/pathdb: re-structure the trienode history header (#32907)
17e52229 build: fix keeper build (#33018)
074d7b79 .gitea/workflows, build: add release build for keeper (#32632)
53c85da7 eth/tracers: fix crasher in TraceCall with BlockOverrides (#33015)
0413af40 rpc: fix a flaky test of the websocket (#33002)
f1be2150 crypto: implement ziren keccak state (#32996)
030cd2d1 cmd/utils: use IsHexAddress method (#32997)
2bb3d9a3 p2p: silence on listener shutdown (#33001)
116c9167 cmd/devp2p: distinguish the jwt in devp2p and geth (#32972)
3b807523 core/state: fix the flaky TestSizeTracker (#32993)
6608a2aa core/types: remove unused `ErrInvalidTxType` var (#32989)
407d9faf cmd/geth: add flag to set genesis (#32844)
0a8b8207 triedb/pathdb: make batch with pre-allocated size (#32914)
79b6a56d core/state: prevent SetCode hook if contract code is not changed (#32980)
d73bfeb3 core/txpool: Initialize journal writer for tx tracker (#32921)
b81f03e8 params: enable osaka on dev mode (#32917)
b1809d13 cmd/keeper: use the ziren keccak precompile (#32816)
b6a4ac99 core/vm: don't call SetCode after contract creation if initcode didn't return anything (#32916)
cfb31114 eth/filters: avoid rebuild the hash map multi times (#32965)
69df6bb8 core/types: prealloc map in HashDifference as in TxDifference (#32946)
11c0fb98 triedb/pathdb: fix index out of range panic in decodeSingle (#32937)
88576c52 eth/fetcher: remove dangling peers from alternates (#32947)
a9e66262 eth/fetcher: add metrics for tracking slow peers (#32964)
0ec63272 cmd/utils: use maximum uint64 value for receipt chain insertion (#32934)
342285b1 eth, internal: add blob conversion for SendRawTransactionSync (#32930)
0a2c21ac eth/ethconfig : fix eth generate config (#32929)
b373d797 core/state: state copy bugfixes with Verkle Trees (#31696)
ff54ca02 internal/ethapi: add eth_SendRawTransactionSync (#32830)
c37bd670 ethclient: add support for eth_simulateV1 (#32856)
5c535074 cmd/geth: log current key in expandVerkle instead of keylist[0] (#32689)
367b5fbe version: begin v1.16.6 release cycle
737ffd1b Merge branch 'master' into release/1.16
32ccb548 version: release go-ethereum v1.16.5 stable
7c107c26 p2p/discover: remove hot-spin in table refresh trigger (#32912)
40505a9b eth/protocols/eth: reject message containing duplicated txs and drop peer (#32728)
3cfc3347 rpc: fix flaky test TestServerWebsocketReadLimit (#32889)
f6064f32 internal/ethapi: convert legacy blobtx proofs in sendRawTransaction (#32849)
55a53208 accounts/abi: check presence of payable fallback or receive before proceeding with transfer (#32374)
e03d97a4 core/txpool/legacypool: fix pricedList updates (#32906)
fb8d2298 eth: do not warn on switching from snap sync to full sync (#32900)
00f6f2b3 eth/catalyst: remove useless log on enabling Engine API (#32901)
52c484de triedb/pathdb: catch int conversion overflow in 32-bit (#32899)
63375774 p2p/discover: wait for bootstrap to be done (#32881)
b28241ba cmd/workload: filter fuzzer test (#31613)
7b693ea1 core/txpool/legacypool: move queue out of main txpool (#32270)
b87581f2 p2p/enode: optimize DistCmp (#32888)
5c6ba6b4 p2p/enode: optimize LogDist (#32887)
a7359ceb triedb, core/rawdb: implement the partial read in freezer (#32132)
bc0a21a1 eth/filters: uninstall subscription in filter apis on error (#32894)
85e9977f p2p: rm unused var seedMinTableTime (#32876)
2010781c core/types: optimize MergeBloom by using bitutil (#32882)
a3aae298 node: fix error condition in gzipResponseWriter.init() (#32896)
659342a5 ethclient: add SubscribeTransactionReceipts (#32869)
de24450d core/rawdb, triedb/pathdb: introduce trienode history (#32596)
ed264a1f eth/protocols/snap: optimize incHash (#32748)
4d6d5a3a core/txpool/legacypool: fix validTxMeter to count transactions (#32845)
11208553 eth/filters: add `transactionReceipts` subscription (#32697)
a1b8e488 eth/filters: terminate pending tx subscription on error (#32794)
695c1445 core/rawdb: correct misleading comments for state history accessors (#32783)
e42af536 cmd/devp2p/internal/ethtest: accept responses in any order (#32834)
064ab701 eth/protocols/eth: use BlockChain interface in Handshake (#32847)
168d699f core/rawdb: remove duplicated type storedReceiptRLP (#32820)
d67037a9 cmd/devp2p/internal/ethtest: update to PoS-only test chain (#32850)
ee309827 build: faster gh actions workflow, no ubuntu on appveyor (#32829)
477ee587 internal/ethapi: add timestamp to logs in eth_simulate (#32831)
1e4b39ed trie: cleaner array concatenation (#32756)
4927e896 p2p/enode: fix asyncfilter comment (#32823)
fc8c8c13 core: refactor StateProcessor to accept ChainContext interface (#32739)
f0dc47aa   p2p/enode: fix discovery AyncFilter deadlock on shutdown (#32572)
05766715 core/types, trie: reduce allocations in derivesha (#30747)
1487a857 params: fix banner message (#32796)
bb00d26b signer/core: fix error message in test (#32807)
f9756bb8 p2p: fix error message in test (#32804)
9986270f eth/catalyst: extend payloadVersion support to osaka/post-osaka forks (#32800)
6f8e28b4 go.mod, cmd/keeper/go.mod: upgrade victoria metrics dependency (#32720)
```

