# Zilliqa 운영 리포트

- 생성 시각: 2026-02-22T01:55:27.093Z
- RSS: v9.3.7
- 비교 기준(Base): 4f8678329ab5c0263195d6abe8220decce439193
- 최신 커밋(Head): 406992cfd99760ab3dce9ee8457a326a3e8c4f74

## 한줄 요약
Zilliqa v9.3.7 릴리즈는 EIP‑1898(블록 파라미터 지원)과 중복 로그 필터링 기능을 도입하고, Dockerfile 및 빌드 스크립트에 일부 패치가 적용되었습니다. 주요 변경 사항은 RPC 인터페이스의 파라미터 구조 조정과 로그 처리 로직에 대한 개선이며, 이는 노드 운영자에게는 API 호환성 검증과 아카이브 노드에 대한 영향 분석을 요구합니다.

## 운영자 중요 체크
- RPC/JSON-RPC 관련 변경 단서가 감지되었습니다.
- 아카이브 노드 운영(보관/색인/동기화) 관련 변경 단서가 감지되었습니다.
- 노드 설정값/프로토콜 플래그 관련 변경 단서가 감지되었습니다.

## 주요 변경점
- 주요 변경점 없음

## RPC/API 영향
- 해당 사항 없음

## 아카이브 노드 영향
- 중복 로그 필터링 로직이 추가되었으나, 아카이브 노드가 저장하는 로그 수에 직접적인 영향은 적음. 단, 필터링이 적용되면 중복 이벤트가 사라져 로그 수집 시 차이가 발생할 수 있음.
- EIP‑1898 파라미터 지원이 아직 완전 구현되지 않아 blockHash/Number 를 사용한 호출은 예외 발생. 아카이브 노드가 해당 파라미터를 사용해 호출하면 로그 수집에 예외 발생 가능.

## 운영 액션 아이템
- dockerfile에서 sccache 소스가 변경되었으므로, 새 이미지 빌드 시 `cargo install --git https://github.com/mozilla/sccache` 를 사용하도록 확인.
- 새 시그니처를 사용한 클라이언트(예: `eth_call`, `eth_getStorageAt`) 가 정상 동작하는지 테스트.
- 로그 수집 스크립트가 `FilterDuplicateLogs` 를 호출하도록 설정.

## 마이그레이션 체크리스트
- 1. 기존 RPC 호출 스크립트/클라이언트가 새 시그니처에 맞게 업데이트.
- 2. EIP‑1898 파라미터 지원이 아직 완전 구현되지 않았으므로, `blockHash` 혹은 `blockNumber` 를 사용한 호출이 있는지 점검.
- 3. 중복 로그 필터링 로직이 적용된 상태에서 기존 이벤트 수집 파이프라인에 영향이 없는지 검증.
- 4. Docker 이미지 빌드 시 `sccache` 의 최신 버전이 반영되는지 확인.
- 5. 아카이브 노드가 새 로그 필터링 로직을 사용하도록 설정(필요 시).

## 위험/주의 사항
- RPC 메서드 시그니처 변경으로 인한 클라이언트 호환성 이슈
- 중복 로그 필터링 로직이 추가되면서 기존 이벤트 수집/분석 로직에 미세한 차이가 발생할 가능성
- EIP‑1898 파라미터 처리 로직이 아직 완전 구현되지 않아 일부 클라이언트가 blockHash/Number 지원을 기대할 경우 예외 발생 가능성

## 근거(Evidence)
- 근거 데이터 없음

## 운영 메모
- RPC 시그니처 변경은 기존 클라이언트가 두 개의 파라미터를 전달하던 시점에서 단일 문자열만 받는 형태로 바뀜. 이는 `eth_call` 과 `eth_getStorageAt` 호출 시 파라미터 순서가 바뀜(예: `eth_call("0x...", "latest")` → `eth_call("0x...")`). 기존 클라이언트가 두 개의 파라미터를 전달하면 예외 발생.
- 중복 로그 필터링 로직이 추가되었으나, 현재는 `JSONUtils::GetInstance().FilterDuplicateLogs` 가 단순히 로그를 중복 제거만 수행. 이는 아카이브 노드에서 저장되는 이벤트 수에 변동을 일으키지 않지만, 로그 수집 시 필터링이 적용되면 중복 이벤트가 사라져 분석에 차이가 발생할 수 있음.
- EIP‑1898 파라미터 처리 로직은 아직 완전 구현되지 않아 `blockHash` 혹은 `blockNumber` 를 지원하지 않음. 따라서 클라이언트가 이 파라미터를 사용하면 예외 발생.

## 원문 커밋 내용
### Commit Log
```text
406992cfd Update version to v9.3.7
c63867381 [release/v9.3] Filter duplicate Eth logs at api level (#3950)
47f95ae24 Make jsonrpc api interface compatible with eip-1898 (#3949)
```

